**.DS_Store** (英文全称 **Desktop Services Store**)\[1\]
是一种由[苹果公司的](https://zh.wikipedia.org/wiki/苹果公司 "wikilink")[Mac
OS
X](https://zh.wikipedia.org/wiki/Mac_OS_X "wikilink")[操作系统所创造的](../Page/操作系统.md "wikilink")[隐藏文件](../Page/隱藏檔案或隱藏目錄.md "wikilink")，目的在于存贮[目录的自定义属性](../Page/目录_\(文件系统\).md "wikilink")，例如文件们的[圖標位置或者是背景色的选择](https://zh.wikipedia.org/wiki/圖標 "wikilink")。\[2\]该文件由[Finder创建并维护](../Page/Finder.md "wikilink")，类似于[Microsoft
Windows中的](https://zh.wikipedia.org/wiki/Microsoft_Windows "wikilink")[desktop.ini文件](https://zh.wikipedia.org/wiki/INI文件 "wikilink")。

## 目的

尽管这些文件本来是为[Finder所使用](../Page/Finder.md "wikilink")，但它们被设想作为一种更通用的有关显示设置的[元数据存储](../Page/元数据.md "wikilink")，诸如图标位置和视图设置。\[3\]
例如，在[Mac OS X 10.4
"Tiger"中](https://zh.wikipedia.org/wiki/Mac_OS_X_v10.4 "wikilink").DS_Store包含了一目录的所有文件的[Spotlight注释](https://zh.wikipedia.org/wiki/Spotlight "wikilink")。然而，在[Mac
OS X 10.5
"Leopard"中这种方式又被更改了](https://zh.wikipedia.org/wiki/Mac_OS_X_v10.5 "wikilink")，注释（现称为关键字）被改成存储在了[扩展文件属性中](../Page/扩展文件属性.md "wikilink")。

## 存放

默认情况下，Mac OS
X的[Finder程序会在进行存取的每个目录下创建](../Page/Finder.md "wikilink").DS_Store文件，甚至是在远程系统上的目录（例如通过[SMB连接或者](../Page/伺服器訊息區塊.md "wikilink")连接来共享的目录），并且甚至如果用户仅仅通过移动该目录的Finder窗口自定义了其显示。\[4\]
这与既存的在先前版本的Finder中为了同样目的所使用的方式的系统形成了对比，先前的只会放置一些不可见文件于卷的根目录下（甚至在外部[文件系统上](../Page/文件系统.md "wikilink")），并总是将整个驱动器的所有目录的设置与元数据存储在这类文件的单一集合中。

在[Mac OS X 10.5
"Leopard"发布前](https://zh.wikipedia.org/wiki/Mac_OS_X_v10.5 "wikilink")，.DS_Store文件在[Windows的文件系统上是可见的](https://zh.wikipedia.org/wiki/Microsoft_Windows "wikilink")。\[5\]

在收到用户们对远程系统上.DS_Store文件会自动创建的投诉之后，苹果公司在其技术支持站点发表了一篇文章，详细讲述了如何禁止远程.DS_Store文件利用网络连接进行的创建。\[6\]
然而，这一操作指南并不适用于本地驱动器，包括[USB](../Page/USB.md "wikilink")[闪存盘](../Page/闪存盘.md "wikilink").

## 禁用或启用自动生成

打开“终端”，复制粘贴下面的命令，回车执行，重启Mac即可生效。

  - 禁止.DS_store生成：

`defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE`

  - 恢复.DS_store生成：

`defaults delete com.apple.desktopservices DSDontWriteNetworkStores`

## 相关条目

  - [desktop.ini](https://zh.wikipedia.org/wiki/INI檔案 "wikilink") —
    [Windows的](https://zh.wikipedia.org/wiki/Windows "wikilink").DS_Store
  - [Thumbs.db](https://zh.wikipedia.org/wiki/Windows缩略图缓存 "wikilink") —
    Windows的缩略图缓存文件

## 参考

## 站外链接

  - [.DS_Store文件格式的逆向工程研究报告](https://wiki.mozilla.org/DS_Store_File_Format)
  - [如何避免在Samba服务器上创建.DS_Store](http://www.lavalite.de/2008/10/12/disable-creation-of-_files-dot-underscore-files/)

## 參考資料

[Category:文件格式](https://zh.wikipedia.org/wiki/Category:文件格式 "wikilink")
[Category:MacOS](https://zh.wikipedia.org/wiki/Category:MacOS "wikilink")

1.

2.

3.
4.

5.

6.
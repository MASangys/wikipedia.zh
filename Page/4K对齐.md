**4K对齐**是一种高级[硬盘使用技术](../Page/硬盘.md "wikilink")，用特殊方法将[文件系统格式与硬盘物理层上进行契合](../Page/文件系统.md "wikilink")，为提高硬盘寿命与高效率使用硬盘空间提供解决方案。因该技术将物理扇区与文件系统的每簇4096字节对齐而得名。

## 原理

当前电脑传统机械硬盘的每个[扇区一般大小为](https://zh.wikipedia.org/wiki/扇区 "wikilink")512[字节](../Page/字节.md "wikilink")；当使用某一文件系统将硬盘格式化时，文件系统会将硬盘扇区、磁道与[柱面统计整理并定义一个簇为多少扇区方便快速存储](https://zh.wikipedia.org/wiki/柱面 "wikilink")。
例如：现时windows中常见使用的NTFS文件系统，默认定义为4096字节大小为一个[簇](../Page/簇.md "wikilink")，但NTFS分区因为其引导区占用了一个[磁道共](https://zh.wikipedia.org/wiki/磁道 "wikilink")63个扇区\[1\]，真正的文件系统在63号扇区之后，那么依照计算得出前63个扇区大小为：

  - 512Bx63=32256B

并按照默认簇大小得出63扇区为多少个簇：

  - 32256B÷4096B=7.875

即为每个簇都会跨越两个物理单元，占据第一个单元的组后512字节和第二个单元的前3584字节。这样文件系统在读写某个簇的时候，硬盘需要读写两个物理单元，这会降低读写速度，并缩短使用寿命。现时一般使用一些硬盘分区软件在主引导记录的63个扇区后作牺牲地空出数个扇区以对齐文件系统的4096B每簇，以避免过多的[读写操作](https://zh.wikipedia.org/wiki/读写 "wikilink")，提升读写速度、延长使用寿命。

## 机械硬盘

在磁盘发展早期，每扇区为512字节比较适合当时硬盘的储存结构。但随着单盘容量的增加，储存密度的上升会明显降低磁头读取磁盘的信噪比，虽然可以用[ECC校验保证数据可靠性](https://zh.wikipedia.org/wiki/ECC "wikilink")，但消耗的空间会抵消储存密度上升带来的多余空间。所以提出以4KB为一个扇区为主的改变。现时硬碟廠商新推出的硬碟，都將遵循先進格式化（4KB扇区）的設計以对应新的[储存结构和文件系统问题](https://zh.wikipedia.org/wiki/储存结构 "wikilink")。

## 固态硬盘

相对于机械硬盘来说，4K对齐对于固态硬盘意义更大，现时的[固态硬盘多为使用](../Page/固态硬盘.md "wikilink")[NAND
Flash閃存作存储核心](https://zh.wikipedia.org/wiki/NAND_Flash "wikilink")，该閃存具有[删除](https://zh.wikipedia.org/wiki/删除 "wikilink")、写入次数限制，当次数用完后该固态硬盘便会性能下降甚至报废；当然很多厂商设计固态硬盘存储方式为不在短时间内删除写入同一个位置，尝试全面均匀使用每一个扇区以达到期望寿命，然而在没有4K对齐的电脑上这将会使固态硬盘寿命快速下降。

## 注释

## 参考

  - [先進格式化](../Page/先進格式化.md "wikilink")
  - [硬盘](../Page/硬盘.md "wikilink")
  - [文件系统](../Page/文件系统.md "wikilink")
  - [字节](../Page/字节.md "wikilink")
  - [4K对齐是什么-PConline](http://product.pconline.com.cn/itbk/diy/harddisk/1207/2866314.html)

[Category:硬盘](https://zh.wikipedia.org/wiki/Category:硬盘 "wikilink")
[Category:電腦儲存](https://zh.wikipedia.org/wiki/Category:電腦儲存 "wikilink")
[Category:磁盘文件系统](https://zh.wikipedia.org/wiki/Category:磁盘文件系统 "wikilink")

1.
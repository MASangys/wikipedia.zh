9P(又名**九號計畫檔案系統協定**或**Styx**)，是[貝爾實驗室九號計畫](../Page/貝爾實驗室九號計畫.md "wikilink")[分散式作業系統所開發的](../Page/分散式作業系統.md "wikilink")[網路協定](../Page/網路協定.md "wikilink")，作用在於連結九號計畫系統內的元件。本計畫中的[檔案是其運作的核心](../Page/檔案.md "wikilink")，這些檔案代表了[視窗](../Page/視窗.md "wikilink")、[電腦網路連線](../Page/電腦網路.md "wikilink")、[行程](../Page/行程.md "wikilink")，以及其他存在於作業系統中的任何東西。不同於[NFS](../Page/網路檔案系統.md "wikilink")，9P是將資料[快取](../Page/快取.md "wikilink")，並提供[模擬檔案](../Page/模擬檔案.md "wikilink")()的機制(例如[/proc用以表示行程](../Page/procfs.md "wikilink"))。

在九號計畫第四版中，9P被更名為**9P2000**，也增加了一些基礎上的改進。最新版的[Inferno作業系統也採用](../Page/Inferno.md "wikilink")9P2000，之前的版本採用的檔案格式稱為Styx，但其實也是9P的衍生。

另一個叫**9p2000.u**的衍生，則對[UNIX提供了更良好的支援](../Page/UNIX.md "wikilink")，詳情參見[v9fs 9p2000.u](http://v9fs.sourceforge.net/rfc/9p2000.u.html)。為UNIX而實作的9P伺服器則稱為[u9fs](../Page/u9fs.md "wikilink")，在第九計畫的發行版中有提供。供[Linux使用的核心客戶端驅動程式則包含在](../Page/Linux.md "wikilink")[v9fs的專案中](../Page/v9fs.md "wikilink")。9P及其衍生分支也被發現使用在嵌入式環境的應用軟體中，像是[Styx
on a Brick
project](https://web.archive.org/web/20091124094119/http://www.vitanuova.com/inferno/rcx_paper.html)。

## 伺服器端應用程式

許多第九計畫的應用程式以9P伺服器的形式存在。值得注意的例子有：

  - : 供程式設計師使用的使用者介面

  - : 第九計畫的視窗管理員

  - : [行程間通訊](../Page/行程間通訊.md "wikilink")

  - wikifs: [Wiki](../Page/Wiki.md "wikilink")

## 實作

9P在客戶端及伺服器端間送出如下的訊息\[1\]。這些訊息對應到第九計畫[虛擬檔案系統層的進入點](../Page/虛擬檔案系統.md "wikilink")，所有的9P伺服器都必須實作這些訊息。

  - version:
    [交涉協定的版本](http://plan9.bell-labs.com/magic/man2html/5/version)
    error: [回報錯誤](http://plan9.bell-labs.com/magic/man2html/5/error)
    flush : [終止訊息](http://plan9.bell-labs.com/magic/man2html/5/flush)
    auth, attach :
    [開啟連線](http://plan9.bell-labs.com/magic/man2html/5/attach)
    walk : [走訪目錄階層](http://plan9.bell-labs.com/magic/man2html/5/walk)
    create, open :
    [準備一個用來寫入/讀取既有或新增檔案的fid](http://plan9.bell-labs.com/magic/man2html/5/open)
    read, write :
    [傳送資料給檔案或從檔案接收資料](http://plan9.bell-labs.com/magic/man2html/5/read)
    clunk : [拋棄fid](http://plan9.bell-labs.com/magic/man2html/5/clunk)
    remove:
    [從伺服器移除檔案](http://plan9.bell-labs.com/magic/man2html/5/remove)
    stat, wstat :
    [查詢或變更檔案屬性](http://plan9.bell-labs.com/magic/man2html/5/stat)

## 參見

  - \- [u9fs](../Page/u9fs.md "wikilink"):
    9P為[類UNIX作業系統所提供的實作](../Page/類Unix系統.md "wikilink")

  - \- 為了在區域網路中使用9P而設計的傳輸協定

  - [分散式檔案系統](../Page/分散式檔案系統.md "wikilink")

## 參考文獻

## 外部連結

  - [9P資源](http://9p.cat-v.org/) cat-v.org網站上的頁面
  - [9P使用者手冊](http://man.cat-v.org/plan_9/5/intro)
  - [用於分散式系統的Styx架構](http://doc.cat-v.org/inferno/4th_edition/styx) 由
    [羅勃·派克](../Page/羅勃·派克.md "wikilink")（Rob Pike） 與 [Dennis
    Ritchie](../Page/Dennis_Ritchie.md "wikilink") 所撰寫
  - [九號計畫內部的網路組織](http://doc.cat-v.org/plan_9/4th_edition/papers/net/) 由
    [Dave Presotto](../Page/Dave_Presotto.md "wikilink") 與 [Phil
    Winterbottom](../Page/Phil_Winterbottom.md "wikilink") 所撰寫

[Category:进程间通信](https://zh.wikipedia.org/wiki/Category:进程间通信 "wikilink")
[Category:网络文件系统](https://zh.wikipedia.org/wiki/Category:网络文件系统 "wikilink")
[Category:Inferno](https://zh.wikipedia.org/wiki/Category:Inferno "wikilink")
[Category:网络协议](https://zh.wikipedia.org/wiki/Category:网络协议 "wikilink")
[Category:网络软件](https://zh.wikipedia.org/wiki/Category:网络软件 "wikilink")
[Category:貝爾實驗室九號計畫](https://zh.wikipedia.org/wiki/Category:貝爾實驗室九號計畫 "wikilink")
[Category:应用层协议](https://zh.wikipedia.org/wiki/Category:应用层协议 "wikilink")
[Category:網路檔案傳輸協定](https://zh.wikipedia.org/wiki/Category:網路檔案傳輸協定 "wikilink")

1.  [9P協定](http://plan9.bell-labs.com/magic/man2html/5/0intro)
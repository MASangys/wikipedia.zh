**一般保护错误**（，缩写：**GPF**）是在[英特尔](../Page/英特尔.md "wikilink")[x86和](../Page/x86.md "wikilink")[AMD](https://zh.wikipedia.org/wiki/AMD "wikilink")[x86-64](../Page/x86-64.md "wikilink")[架构和其它架构中的一种](https://zh.wikipedia.org/wiki/处理器架构 "wikilink")[错误](https://zh.wikipedia.org/wiki/错误 "wikilink")（或者一种[中断](https://zh.wikipedia.org/wiki/中断 "wikilink")），指正在运行的程序（[内核或](../Page/内核.md "wikilink")[用户态程序](https://zh.wikipedia.org/wiki/用户态 "wikilink")）违反处理器架构中的保护措施的情况。此机制最初在1986年英特尔80386处理器的程序员参考手册第9.8.13节中描述。一般保护错误通过[中断](https://zh.wikipedia.org/wiki/中断 "wikilink")（[向量值](https://zh.wikipedia.org/wiki/中断向量 "wikilink")13）实现。

若处理器侦测到保护违例，会停止当前代码的执行，并发出GPF中断。大多数情形下，操作系统会简单地关闭触发GPF的进程，告知用户，并继续执行其它程序。但如果操作系统没能捕获这一错误（如在操作系统从GPF中断处理例程中返回前发生了另一次违例），处理器会发出[双重错误](https://zh.wikipedia.org/wiki/双重错误 "wikilink")（[中断向量值](https://zh.wikipedia.org/wiki/中断向量 "wikilink")8，一种常见的[蓝屏情形](https://zh.wikipedia.org/wiki/蓝屏 "wikilink")）。如果再次发生了违例，则处理器会关闭（参见[三重错误](https://zh.wikipedia.org/wiki/三重错误 "wikilink")），其后只会响应复位（即按下机器的复位按钮）、启动（重新启动系统）或[不可屏蔽中断](https://zh.wikipedia.org/wiki/不可屏蔽中断 "wikilink")（除非其之前在处理此类中断时出错）。

## 操作系统行为

在一些版本的[Microsoft
Windows中](https://zh.wikipedia.org/wiki/Microsoft_Windows "wikilink")，一般保护错误确实会被报告为“一般保护错误”。
但在大部分版本中，Windows会给出如下错误：

  - Unrecoverable Application Error.（[Windows
    3.0](https://zh.wikipedia.org/wiki/Windows_3.0 "wikilink")）
  - \[程序\] has caused a General Protection Fault in module \[模块\] at
    \[内存地址\].（[Windows
    3.1和](https://zh.wikipedia.org/wiki/Windows_3.1 "wikilink")[3.1x](https://zh.wikipedia.org/wiki/Windows_3.1x "wikilink")）
  - 该程序执行了非法操作，即将关闭。（[Windows 9x](../Page/Windows_9x.md "wikilink") &
    [Windows NT 4.0](../Page/Windows_NT_4.0.md "wikilink")）
  - \[程序\]产生了错误，会被Windows关闭。（[Windows
    2000](../Page/Windows_2000.md "wikilink")）
  - \[程序\] has caused an error in \[模块\]. \[程序\] will now
    close.（[Windows Me](../Page/Windows_Me.md "wikilink")）
  - \[程序/描述\]遇到问题需要关闭。我们对此引起的不便表示抱歉。（[Windows
    XP](../Page/Windows_XP.md "wikilink")）
  - \[程序/描述\]已停止工作。（[Windows
    Vista和](../Page/Windows_Vista.md "wikilink")[Windows
    7](https://zh.wikipedia.org/wiki/Windows_7 "wikilink")）

在类[Unix的系统中](../Page/Unix.md "wikilink")，此错误会被分别报告（比如[Linux下的](../Page/Linux.md "wikilink")[段错误等](https://zh.wikipedia.org/wiki/段错误 "wikilink")）。

[Category:操作系统技术](https://zh.wikipedia.org/wiki/Category:操作系统技术 "wikilink")
[Category:计算机错误](https://zh.wikipedia.org/wiki/Category:计算机错误 "wikilink")
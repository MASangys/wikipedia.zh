[缩略图](https://zh.wikipedia.org/wiki/File:UPnP_discovery_phase.jpg "fig:缩略图")的发现阶段的图示\]\] **互联网网关设备**（，缩写**IGD**）标准设备控制协议（Standardized Device Control Protocol）\[1\]是一种在[网络地址转换](../Page/网络地址转换.md "wikilink")（NAT）环境中映射[端口的协议](../Page/通訊埠.md "wikilink")，受部分支持NAT的[路由器](../Page/路由器.md "wikilink")支持。\[2\]它是一种常见的自动配置[端口映射](https://zh.wikipedia.org/wiki/端口映射 "wikilink")[通信协议](https://zh.wikipedia.org/wiki/通信协议 "wikilink")，并是[ISO](../Page/國際標準化組織.md "wikilink")/[IEC标准的一部分](../Page/国际电工委员会.md "wikilink")\[3\]ISO/IEC 29341, <http://www.iso.org/iso/home/news_index/news_archive/news.htm?refid=Ref1185></ref>，但不是一项[IETF标准](../Page/互联网工程任务组.md "wikilink")。

## 用法

使用[對等網路](../Page/對等網路.md "wikilink")网络、或远程协助程序的应用程序需要一种穿透家庭和商用网关进行通信的方法。在没有IGD支持时，手动配置网关以允许流量通过是一个容易出错且费时费力的过程。[UPnP](../Page/UPnP.md "wikilink")则带来了另一个[NAT穿透](../Page/NAT穿透.md "wikilink")解决方案。

IGD可以轻松执行如下操作：

  - 获知公网（外部）[IP地址](../Page/IP地址.md "wikilink")
  - 请求一个新的公网IP地址\[4\]
  - 列举现有的[端口映射](https://zh.wikipedia.org/wiki/端口映射 "wikilink")
  - 添加和移除[端口映射](../Page/通訊埠.md "wikilink")
  - 给映射分配租赁时间

[主机可以允许通过](../Page/网络主机.md "wikilink")[简单服务发现协议](../Page/简单服务发现协议.md "wikilink")（SSDP）寻找网络上的可用设备，然后在[简单对象访问协议](https://zh.wikipedia.org/wiki/SOAP "wikilink")（SOAP）的帮助下进行控制。此种寻找请求通过[超文本传输协议](../Page/超文本传输协议.md "wikilink")（HTTP）和[通訊埠](../Page/通訊埠.md "wikilink")1900发送到239.255.255.250，示例如下：

`M-SEARCH * HTTP/1.1`
`Host:239.255.255.250:1900`
`ST:urn:schemas-upnp-org:device:InternetGatewayDevice:1`
`Man:"ssdp:discover"`
`MX:3`

## 安全风险

如果[网关设备可被更改配置](../Page/住宅网关.md "wikilink")，IGD协议可能带来新的风险\[5\]。

## 参见

  - [NAT端口映射协议](../Page/NAT端口映射协议.md "wikilink")（NAT-PMP）

  - （PCP）

  - [用于NAT的会话穿透实用程序](../Page/STUN.md "wikilink")（STUN）

## 参考资料

## 外部链接

  -
  -
  -
  - [UPnP Forum Internet Gateway Device presentation](http://www.upnp.org/events/documents/roe_igdwapupdate.ppt)

  - [Universal Plug and Play NAT Traversal FAQ](http://www.microsoft.com/technet/prodtechnol/winxppro/support/upnp01.mspx) by Microsoft. [Archived copy](https://web.archive.org/web/20070814012159/http://www.microsoft.com/technet/prodtechnol/winxppro/support/upnp01.mspx)

  - [Free, BSD-licensed ANSI C library to control a Universal Plug and Play Internet Gateway Device or NAT-PMP](http://miniupnp.free.fr/)

  - [Linux implementation of an Internet gateway device server](http://linux-igd.sourceforge.net/)

[Category:网络地址转换](https://zh.wikipedia.org/wiki/Category:网络地址转换 "wikilink") [Category:网络协议](https://zh.wikipedia.org/wiki/Category:网络协议 "wikilink")

1.  <https://tools.ietf.org/html/rfc6970>

2.

3.
4.

5.
《**倉庫番**》是一款經典[電子遊戲](https://zh.wikipedia.org/wiki/電子遊戲 "wikilink")，1982年由[日本](../Page/日本.md "wikilink")[Thinking Rabbit公司首次發行](https://zh.wikipedia.org/wiki/Thinking_Rabbit "wikilink")。之後其他遊戲开发者爭相製作仿製或衍生作品。致使*倉庫番*成为此类游戏的代名词。遊戲要求玩家在[二維](https://zh.wikipedia.org/wiki/二維 "wikilink")[地圖上把](https://zh.wikipedia.org/wiki/地圖 "wikilink")[箱子推到指定地點](https://zh.wikipedia.org/wiki/箱子 "wikilink")，當中牽涉到大量的空間邏輯推理。

## 倉庫番的規則

[KSokoban-screenshot.png](https://zh.wikipedia.org/wiki/File:KSokoban-screenshot.png "fig:KSokoban-screenshot.png")內建的倉庫番遊戲KSokoban\]\] 第一個《倉庫番》的遊戲規則，則是扮演工人的玩家，以「推」的方式，推動箱子。可以在沒有阻礙物（如牆壁等的阻礙物）的情況下，向[左](https://zh.wikipedia.org/wiki/左 "wikilink")、[右](https://zh.wikipedia.org/wiki/右 "wikilink")、[上](https://zh.wikipedia.org/wiki/上 "wikilink")、[下的地方移動](https://zh.wikipedia.org/wiki/下 "wikilink")。將箱子移動到指定點，達到指定數量，即可過關。

但玩家移動箱子，有下列條件要注意：

  - 推到牆壁的箱子，玩家就不可以背對牆壁，把箱子推回到空處。即箱子只能以「被推」的方式被移動，不是以「被拉」的方式被移動。但如果玩家推至牆壁後，垂直牆壁的兩側沒有阻礙物，則玩家可以朝這兩個不同的方向推移箱子。
  - 一旦箱子被移動到角落，玩家沒有任何方法再移動這個被推到角落的箱子。
  - 玩家不可同時推動兩個或以上的箱子。假設工人面前有一個箱子，箱子的正前方又有一個箱子，則這兩個箱子是不能被推動的。

## 倉庫番與數學

倉庫番的解的[複雜度被](https://zh.wikipedia.org/wiki/複雜度類 "wikilink")[數學家證明了達到](https://zh.wikipedia.org/wiki/數學家 "wikilink")[NP難](../Page/NP_\(複雜度\).md "wikilink")（NP-hard）的程度\[1\]，後來更被證明了它是[PSPACE](../Page/PSPACE.md "wikilink")完全的\[2\]。

## 規則變體

基於基礎的規則，有的遊戲添加了數量有限的炸彈破壞牆壁方可達成目標；重力添加到遊戲中；可以改變特性的牆壁、機關；可以收集的物品（原本是障礙物）。

## 參見

  - [迷宮](../Page/迷宮.md "wikilink")
  - [倉庫](../Page/倉庫.md "wikilink")

## 其他

  - [Rocks'n'Diamonds](https://zh.wikipedia.org/wiki/Rocks'n'Diamonds "wikilink")
  - [Xye](https://zh.wikipedia.org/wiki/Xye "wikilink")

## 參考文獻

<references/>

## 外部連結

  - [Official Sokoban site](http://www.sokoban.jp/)（in Japanese）

  - [推箱子游戏的自动求解](http://blog.csdn.net/hellwolf/archive/2005/01/04/239939.aspx)

  - [倉庫番史上完全版](http://www.gamebase.com.tw/wekey/pc/newgame.php?gno=3229)〈[大宇製作的仿製品](https://zh.wikipedia.org/wiki/大宇資訊股份有限公司 "wikilink")〉

[Category:1982年电子游戏](https://zh.wikipedia.org/wiki/Category:1982年电子游戏 "wikilink") [Category:Linux遊戲](https://zh.wikipedia.org/wiki/Category:Linux遊戲 "wikilink") [Category:Mac_OS游戏](https://zh.wikipedia.org/wiki/Category:Mac_OS游戏 "wikilink") [Category:Windows_Mobile_Professional游戏](https://zh.wikipedia.org/wiki/Category:Windows_Mobile_Professional游戏 "wikilink") [Category:Windows游戏](https://zh.wikipedia.org/wiki/Category:Windows游戏 "wikilink") [Category:免費遊戲](https://zh.wikipedia.org/wiki/Category:免費遊戲 "wikilink") [Category:益智游戏](https://zh.wikipedia.org/wiki/Category:益智游戏 "wikilink") [Category:邏輯謎題](https://zh.wikipedia.org/wiki/Category:邏輯謎題 "wikilink")

1.
2.  Joseph C. Culberson, [Sokoban is PSPACE-complete](http://citeseer.ist.psu.edu/culberson97sokoban.html). Technical Report TR 97-02, Dept. of Computing Science, University of Alberta, 1997. Also: <http://web.cs.ualberta.ca/~joe/Preprints/Sokoban>
在[程序设计中](../Page/程序设计.md "wikilink")，**全局变量**是在所有[作用域都可访问的变量](../Page/作用域.md "wikilink")，与之对应的是[局部变量](../Page/局部变量.md "wikilink")。

通常，使用不必要的全局变量被认为是坏习惯，这正是由于全局变量的非局部性：全局变量可能被从任何地方修改（除非位于[保护内存中](../Page/保护内存.md "wikilink")），也可能被任何地方所依赖。于是全局变量便拥有了建立相互依存关系的无限可能，而互相依存关系的建立会使得复杂度增加，参见[远隔作用](../Page/远隔作用_\(计算机科学\).md "wikilink")（Action
at distance）。然而，在少数情况下是适合使用全局变量的。例如，可以通过全局变量的使用来避免常用变量在一系列函数间的频繁传递。

[C++语言中全局变量的例子](../Page/C++语言.md "wikilink")：

``` cpp
#include <cstdio>

int global = 3; // 定义全局变量 global

static void ChangeGlobal(void)
{
   global = 5; // 从函数中引用全局变量
}

int main(void)
{
   std::printf("%d\n", global); // 还是从函数中引用全局变量
   ChangeGlobal();
   std::printf("%d\n", global);
}
```

因为变量是全局的，所以就没有必要为了在 main 以外的函数中使用而作为参数传递。全局变量属于程序中的所有函数。

输出应该是：

`3`
`5`

全局变量的使用使得软件更加难以阅读和理解。因为程序中任何地方的代码都可能随时修改这个变量的值，于是理解这个变量可能就意味着要理解整个程序的很大部分。

某些语言（比如[C\#和](../Page/C♯.md "wikilink")[Java](../Page/Java.md "wikilink")）中没有全局变量。Java
中，所有非局部变量都是类的字段，于是所有变量就都在类和方法的作用域中了。

需要指出的是，[C语言不存在真正意义上的](../Page/C语言.md "wikilink")“全局变量”。被习惯性误称为“全局变量”的，一般是文件作用域对象。[ANSI
C](../Page/ANSI_C.md "wikilink")/ISO C也没有这种提法。
[C语言中所谓](../Page/C语言.md "wikilink")“全局变量”的例子：

``` c
/* 注意这个例子是有问题的。
   global 并不是全局变量，因为它并不是“所有作用域均可见”。
   global 是C语言中的文件作用域变量，作用域从声明开始一直到文件末尾。*/
#include <stdio.h>

int global = 3; /* 这是“全局变量” */

static void ChangeGlobal(void)
{
   global = 5; /* 从函数中引用“全局变量” */
}

int main(void)
{
   printf("%d\n", global); /* 还是从函数中引用“全局变量” */
   ChangeGlobal();
   printf("%d\n", global);
   return 0;
}
```

## 参见

  - [变量](../Page/变量.md "wikilink")
  - [单例模式](../Page/单例模式.md "wikilink")
  - [局部变量](../Page/局部变量.md "wikilink")

## 参考资料

  - William Wulf and Mary Shaw, “Global Variable Considered Harmful”,
    ACM SIGPLAN Notices, volume 8, issue 2, 1973 February, pp. 28–34.

<references />

  - [*Draft ANSI C Standard* (ANSI
    X3J11/88-090)](https://web.archive.org/web/20100822072551/http://flash-gordon.me.uk/ansi.c.txt)
    (May 13, 1988), [Third Public
    Review](http://groups.google.com/group/comp.lang.c/msg/20b174b18cdd919d?hl=en)

  -
[de:Variable (Programmierung)\#Variablen in einer
Blockstruktur](../Page/de:Variable_\(Programmierung\)#Variablen_in_einer_Blockstruktur.md "wikilink")

[Category:_程序架构](https://zh.wikipedia.org/wiki/Category:_程序架构 "wikilink")
[Category:_变量](https://zh.wikipedia.org/wiki/Category:_变量 "wikilink")
[Category:_软件工程](https://zh.wikipedia.org/wiki/Category:_软件工程 "wikilink")
> 本文内容由[公開金鑰認證](https://zh.wikipedia.org/wiki/公開金鑰認證)转换而来。


[Digital-certificate-wikipedia-main.png](https://zh.wikipedia.org/wiki/File:Digital-certificate-wikipedia-main.png "fig:Digital-certificate-wikipedia-main.png")網站所使用的數位憑證，可見載有[维基媒体基金会](../Page/维基媒体基金会.md "wikilink")的名稱、簽發的[数字证书认证机构](https://zh.wikipedia.org/wiki/数字证书认证机构 "wikilink")、有效期及[公开密钥指纹](../Page/公开密钥指纹.md "wikilink")\]\] **公開金鑰認證**（），又稱**數位憑證**（digital certificate）或**身份憑證**（identity certificate）。是用於[公開金鑰基礎建設](../Page/公開金鑰基礎建設.md "wikilink")的電子檔案，用來證明[公開金鑰擁有者的](../Page/公开密钥加密.md "wikilink")[身份](../Page/身分标识方式.md "wikilink")。此檔案包含了公鑰資訊、擁有者身份資訊（主體）、以及[数字证书认证机构](https://zh.wikipedia.org/wiki/数字证书认证机构 "wikilink")（發行者）對這份文件的[數位簽章](../Page/數位簽章.md "wikilink")，以保證這個文件的整體內容[正確無誤](https://zh.wikipedia.org/wiki/数据完整性 "wikilink")。擁有者憑著此檔案，可向電腦系統或其他使用者表明身分，從而對方獲得信任並授權存取或使用某些敏感的電腦服務。電腦系統或其他使用者可以透過一定的程序核實憑證上的內容，包括憑證有否過期、數位簽章是否有效，如果你信任簽發的机构，就可以信任憑證上的金鑰，憑公鑰加密與擁有者進行[可靠的通訊](https://zh.wikipedia.org/wiki/保密性 "wikilink")。

简而言之，认证机构用自己的私钥对需要认证的人（或组织机构）的公钥施加数字签名并生成证书，即证书的本质就是对公钥施加数字签名。\[1\]

數位憑證的其中一個最主要好處是在認證擁有者身分期間，擁有者的敏感個人資料（如出生日期、身分證號碼等）並不會傳輸至索取資料者的電腦系統上。透過這種資料交換模式，擁有者既可證實自己的身分，亦不用過度披露個人資料，對保障電腦服務存取雙方皆有好處。

人們透過信任数字证书认证机构的[根证书](../Page/根证书.md "wikilink")、及其使用公开密钥加密作數位簽章核發的公開金鑰認證，形成[信任鏈](../Page/信任鏈.md "wikilink")架構，已在[TLS實作並在](https://zh.wikipedia.org/wiki/傳輸層安全協議 "wikilink")[万维网](../Page/万维网.md "wikilink")的[HTTP以](../Page/超文本传输协议.md "wikilink")[HTTPS](../Page/超文本传输安全协议.md "wikilink")、在[电子邮件](../Page/电子邮件.md "wikilink")的[SMTP以](../Page/简单邮件传输协议.md "wikilink")[STARTTLS引入並廣泛應用](https://zh.wikipedia.org/wiki/STARTTLS "wikilink")。業界現行的標準是[國際電信聯盟電信標準化部門](../Page/國際電信聯盟電信標準化部門.md "wikilink")制定的[X.509](../Page/X.509.md "wikilink")\[2\]，並由[IETF發行的](../Page/互联网工程任务组.md "wikilink")詳細述明。而在不少先進地區，都已立法承認使用數位憑證所作的數位簽章擁有等同親筆[签名](../Page/签名.md "wikilink")的法律效力（如[欧洲联盟](../Page/欧洲联盟.md "wikilink")\[3\]\[4\]、[香港](../Page/香港.md "wikilink")\[5\]\[6\]、[台灣](../Page/中華民國.md "wikilink")\[7\]）。

## 證書種類

[lang=zh](https://zh.wikipedia.org/wiki/File:Chain_of_trust.svg "fig:lang=zh")

### 自簽證書

在用于小范围测试等目的的時候，用户也可以自己生成数字证书，但沒有任何可信賴的人签名，這種自签名证书通常不会被广泛信任，使用時可能會遇到電腦軟件的安全警告\[8\]。

### 根证书

根证书也是一種自簽證書，但是獲得廣泛認可，通常已預先安裝在各種軟體（包括[操作系统](../Page/操作系统.md "wikilink")、[瀏覽器](../Page/网页浏览器.md "wikilink")、[電郵軟件等](../Page/電子郵件用戶端.md "wikilink")），作為[信任鏈](../Page/信任鏈.md "wikilink")的起點，來自於公認可靠的政府機關（如[香港郵政](../Page/香港郵政.md "wikilink")\[9\]）、軟件公司（如Google\[10\]、[Let's Encrypt](../Page/Let's_Encrypt.md "wikilink")）等，與各大軟件商透過嚴謹的核認程序才在不同的軟件廣泛部署。由於部署程序複雜費時，需要行政人員的授權及機構法人身份的核認，一張根证书有效期可能長達十年以上。在某些企業，也可能會在內部電腦自行安裝企業自簽的根证书，以支援[内部网的](https://zh.wikipedia.org/wiki/内部网 "wikilink")[企业级软件](https://zh.wikipedia.org/wiki/企业级软件 "wikilink")；但是這些證書可能未被廣泛認可，只在企業內部適用。

### 中介證書

認證機構的一個重要任務就是為客戶簽發證書，雖然廣泛認可的認證機構都已擁有根证书，相對應的私鑰可用以簽署其他證書，但因為[密钥管理](../Page/密钥管理.md "wikilink")和行政考慮，一般會先行簽發中介證書，才為客戶作數位簽署。中介證書的有效期會較根证书為短，並可能對不同類別的客戶有不同的中介證書作分工。

### 授權憑證

授權憑證又稱屬性憑證，本身沒有公鑰，必須依附在一張有效的數位憑證上才有意義，其用處是賦予相關擁有人簽發終端實體憑證的權力；某些情況下，如果只在短期內授予憑證機構簽發權力，便可以不改變（縮短）該機構本身持有的憑證的有效期。這種情況，類似於某人持有長達十年期的護照，而只透過簽發短期入境簽證，來個別賦予護照持有人額外權力。

### 終端實體證書

其他不會用作簽發其他證書的，都可稱為終端實體證書，在實際的軟件中部署，以便[建立加密通道時應用](https://zh.wikipedia.org/wiki/握手_\(技术\) "wikilink")。

#### TLS伺服器證書

伺服器通常以域名形式在互聯網上提供服務，伺服器證書上**主體**的**通用名稱**就會是相應的域名，相關機構名稱則寫在**組織**或**單位**一欄上。伺服器證書（包括公鑰）和私鑰會安裝於伺服器（例如[Apache](../Page/Apache_HTTP_Server.md "wikilink")），等待客戶端連接時[協議加密細節](https://zh.wikipedia.org/wiki/握手_\(技术\) "wikilink")。客戶端的軟件（如瀏覽器）會執行以確保安全，如果未能肯定加密通道是否安全（例如證書上的主體名稱不對應網站域名、伺服器使用了自簽證書、或加密算法不夠強），可能會警告用戶。

##### 通配符证书

如果伺服器證書上主體的通用名稱（或）一欄以通配符前綴，則該證書可以用於旗下的所有子域名，特別適合較具規模、或設有多個子網站的機構一次過申領，套用於多個伺服器上；即使未來建立新的[子域名](https://zh.wikipedia.org/wiki/子域名 "wikilink")，也可以套用。但通配符不可用於擴展認證證書上。

#### TLS客戶端證書

有時候，某些TLS伺服器可能會在建立加密通道時，要求客戶端提供客戶端證書，以驗證[身份及](../Page/数字身份.md "wikilink")[控制存取權限](https://zh.wikipedia.org/wiki/存取控制 "wikilink")。客戶端證書包含電子郵件地址或個人姓名，而不是主機名。但客戶端證書比較不常見，因為考慮到技術門檻及成本因素，通常都是由服務提供者驗證客戶身份，而不是依賴第三方認證機構。通常，需要使用到客戶端證書的服務都是內部网的企业级软件，他們會設立自己的內部根证书，由企業的技術人員在企業內部的電腦安裝相關客戶端證書以便使用。在公開的互聯網，大多數網站都是使用[登入密碼和](https://zh.wikipedia.org/wiki/密碼_\(認證\) "wikilink")[Cookie](../Page/Cookie.md "wikilink")來驗證用戶，而不是客戶端證書。

在台灣，[中華民國內政部憑證管理中心根據電子簽章法負責簽發自然人憑證](https://zh.wikipedia.org/wiki/中華民國內政部 "wikilink")，讓國民在網路使用各種政府服務\[11\]。

客戶端證書在[RPC系統中更常見](../Page/遠程過程調用.md "wikilink")，用於驗證連接設備的許可授權。

## 內容欄位

一般遵從[X.509](../Page/X.509.md "wikilink")格式規範的憑證，會有以下的內容，它們以欄位的方式表示\[12\]：

  - **版本**：現行通用版本是 V3
  - **序號**：用以辨識每一張憑證，特別在撤消憑證的時候有用
  - **[主體](https://zh.wikipedia.org/wiki/法律主體 "wikilink")**：擁有此憑證的[法人](../Page/法人.md "wikilink")或[自然人身份或機器](https://zh.wikipedia.org/wiki/自然人 "wikilink")，包括：
      - **國家**（C，Country）
      - **州/省**（S，State）
      - **地域/城市**（L，Location）
      - **組織/單位**（O，Organization）
      - **通用名稱**（CN，Common Name）：在[TLS應用上](https://zh.wikipedia.org/wiki/TLS "wikilink")，此欄位一般是[網域](https://zh.wikipedia.org/wiki/網域 "wikilink")
  - **[發行者](https://zh.wikipedia.org/wiki/数字证书认证机构 "wikilink")**：以數位簽章形式簽署此憑證的数字证书认证机构
  - **有效期開始時間**：此憑證的有效開始時間，在此前該憑證並未生效
  - **有效期結束時間**：此憑證的有效結束時間，在此後該憑證作廢
  - **公開金鑰用途**：指定憑證上公鑰的用途，例如數位簽章、伺服器驗證、用戶端驗證等
  - **[公開金鑰](https://zh.wikipedia.org/wiki/公開金鑰加密 "wikilink")**
  - **[公开密钥指纹](../Page/公开密钥指纹.md "wikilink")**
  - **[數位簽章](../Page/數位簽章.md "wikilink")**
  - ****
  - ****：例如一個網站可能會有多個網域（www.wikipedia.org, zh.wikipedia.org, zh.m.wikipedia.org 都是[維基百科](https://zh.wikipedia.org/wiki/維基百科 "wikilink")）、一個組織可能會有多個網站（\*.wikipedia.org, \*.wikibooks.org, \*.wikidata.org 都是[維基媒體基金會旗下的網域](https://zh.wikipedia.org/wiki/維基媒體基金會 "wikilink")），不同的網域可以一併使用同一張憑證，方便實作應用及管理

## 申領及使用

[lang=zh](https://zh.wikipedia.org/wiki/File:PublicKeyCertificateDiagram_It.svg "fig:lang=zh") 数字证书一般由数字证书认证机构簽发，簡單的程序如下：

### 申領

1.  [鮑伯在自己的機器上使用](../Page/愛麗絲與鮑伯.md "wikilink")[密码学安全伪随机数生成器](../Page/密码学安全伪随机数生成器.md "wikilink")產生一對足夠強的密鑰，鮑伯的私鑰不會向任何人傳送。
2.  鮑伯把他的公鑰，連同主體訊息、使用目的等組成，傳送給认证机构[伊凡](../Page/愛麗絲與鮑伯.md "wikilink")。
3.  伊凡（用另外一些渠道）核實鮑伯的身份。
4.  如果伊凡信任這個請求，他便使用鮑伯的公鑰和主體訊息，加上憑證有效期、用途等限制條件，組成憑證的基本資料。
5.  伊凡用自己的私鑰对鲍勃的公钥加上数字签名并生成证书。
6.  伊凡把生成的憑證傳送給鮑伯（伊凡也可以透過[证书透明度](../Page/证书透明度.md "wikilink")公佈他簽發了新的證書）。

### 使用

1.  鮑伯可以隨便把憑證向外發佈。
2.  鮑伯與愛麗絲事先可能互不認識，但鮑伯與愛麗絲都信任伊凡，愛麗絲使用认证机构伊凡的公钥驗證数字签名，如果验证成功，便可以信任鲍勃的公钥是真正屬於鮑伯的。\[13\]
3.  愛麗絲可以使用憑證上的鲍勃的公鑰加密明文，得到密文並傳送給鮑伯。
4.  鮑伯可以可以用自己的私鑰把密文解密，得到明文。

### 儲存格式

電子證書可以[二进制或](https://zh.wikipedia.org/wiki/二进制 "wikilink")[Base64](../Page/Base64.md "wikilink")形式儲存，常見的二进制[文件扩展名](../Page/文件扩展名.md "wikilink")有 .cer、.crt、.der，Base64的文件扩展名則通常是 .pem。如果把證書和私鑰一起儲存，則可以使用PKCS\#12（.p12）格式\[14\]。

## 審核級別

法人團體申領數位憑證的時候，可以視乎其法人的地位及其實際需要申領不同級別的憑證，認證機構會作相應的審核，越高級別的通常都牽涉越嚴謹的行政程序，及需付出更高昂的費用。各大憑證機構和网页浏览器軟件商透過[CA/浏览器论坛共同建立和維護相關的指導方針](https://zh.wikipedia.org/wiki/CA/浏览器论坛 "wikilink")\[15\]。

### 域名驗證（DV）

這是最基本的審核級別，如果申領代表可以證明他擁有管理某域名的權力，認證機構就可以發放域名驗證（DV）證書。認證機構通常使用自動機制（例如\[16\]或透過電郵確認）審核域名擁有權，所以成本也較低\[17\]。

### 組織驗證（OV）

如果申領代表可以證明他擁有管理某域名的權力，而且相關組織是實際存在的法人，認證機構可以發放組織驗證（OV）證書。審核程序通常需要經過人手處理。

### 擴展驗證（EV）

這是最嚴格的審核級別，審核過程可能牽涉專業法律人員的調查及獨立審計人員的確認，成本也自然更高\[18\]；成功獲得擴展驗證證書的網站，現代瀏覽器通常會在位址列以綠色表示相關機構的法人名稱及所屬[國家代碼](../Page/ISO_3166-1.md "wikilink")\[19\]。擴展驗證證書的主體名稱或主體別名上不可以有通配符。

## 弱點與防禦

公開金鑰基礎建設的弱點，在於人們必須循數位憑證上的信任鏈找到根證書，並信任核發根證書的数字证书认证机构，一旦憑證機構被[黑客](../Page/黑客.md "wikilink")入侵，黑客可以在人們不知情下簽發了偽冒他人身份的證書，以[中间人攻击](../Page/中间人攻击.md "wikilink")進行欺詐。業界已研發不同的防禦方法，例如憑證機構可以透過[证书透明度](../Page/证书透明度.md "wikilink")公布新簽發的電子憑證，讓大眾檢查手上收到的電子憑證是否可能未被正式授權（中間人攻擊不會「公布」他偽冒了別人簽發了欺詐憑證），網站管理員也可以定期檢查是否有不明機構發出了未被授權的憑證。另一方面，[HTTPS網站可以使用](../Page/超文本传输安全协议.md "wikilink")[HPKP指明其固定的公鑰](../Page/HTTP公钥固定.md "wikilink")，讓中間人的欺詐憑證無法使用。另外，而[OCSP和](../Page/在线证书状态协议.md "wikilink")[OCSP装订](../Page/OCSP装订.md "wikilink")也在發展中，讓用戶軟體可以透過第三方檢查憑證是否有効。

在公鑰基礎設施以外，[信任網絡則採用](https://zh.wikipedia.org/wiki/信任網絡 "wikilink")[去中心化的概念](https://zh.wikipedia.org/wiki/去中心化 "wikilink")，取代了依賴數字證書認證機構的公鑰基礎設施，因為每一張電子證書在信任鏈中最終只由一個根證書授權信任，信任網絡的公鑰則可以累積多個用戶的信任。

## 参考文献

[Category:密钥管理](https://zh.wikipedia.org/wiki/Category:密钥管理 "wikilink") [Category:电子商务](https://zh.wikipedia.org/wiki/Category:电子商务 "wikilink") [Category:公鑰基礎設施](https://zh.wikipedia.org/wiki/Category:公鑰基礎設施 "wikilink")

1.
2.
3.
4.
5.
6.
7.
8.
9.
10.
11.
12.
13.
14.
15.
16.
17.
18.
19.
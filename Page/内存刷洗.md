**内存刷洗**（）也可称**内存擦洗**、**内存清洗**，它是指从每个[電腦記憶體](../Page/電腦記憶體.md "wikilink")位置读取数据、以一种错误纠错码（[ECC](../Page/错误检测与纠正.md "wikilink")）纠正[位元错误](../Page/比特误码率.md "wikilink")（如果存在），然后将校正后的数据写回到相同位置。\[1\]

由于现代计算机内存芯片的高度集成，单个内存单元的结构已足够小到易于受到[宇宙射线和](../Page/宇宙線.md "wikilink")/或[阿尔法粒子的影响](../Page/Α粒子.md "wikilink")。由这些现象引发的错误被称为[軟性錯誤](../Page/軟性錯誤.md "wikilink")，这对基于[DRAM或](../Page/动态随机存取存储器.md "wikilink")[SRAM的内存来说可能是个问题](../Page/静态随机存取存储器.md "wikilink")。在任何单个内存位元发生软错误的概率非常小。但是，配以现代计算机的庞大内存空间，加之[长时间持续运行的如](../Page/上线时间.md "wikilink")[服务器](../Page/服务器.md "wikilink")，在已安装内存中发生软错误的概率可能比较显著。

[纠错内存](../Page/纠错内存.md "wikilink")中的信息被[冗余存储](../Page/信息冗余.md "wikilink")，以便能校正每个内存字（word）的单比特错误。也因如此，ECC内存可以支持对内存的刷洗。换句话说，如果[内存控制器](../Page/内存控制器.md "wikilink")系统性扫描内存，则可以检测到单比特错误，并可以使用ECC[校验和来确定出错的比特并将校正的数据写回内存](../Page/错误检测与纠正.md "wikilink")。

## 概述

在同一个字（word）未发生多比特错误前周期性检查每个内存位置很重要，这是因为截至2008年，ECC内存模块还不能校正出现多比特的错误。

为了不干扰来自[CPU的常规内存请求以及防止](../Page/中央处理器.md "wikilink")[電腦性能](../Page/電腦性能.md "wikilink")下降，刷洗通常仅在空闲时进行。由于刷洗是由正常的读取和写入操作组成，它可能增加内存相较非刷洗操作时的。因此，刷洗应该周期性但不是持续性进行。许多服务器可以在BIOS设置程序中配置刷洗周期。

普通的内存读取是由CPU或[DMA设备发出和检查ECC错误](../Page/直接記憶體存取.md "wikilink")，但由于[数据局部性原因](https://zh.wikipedia.org/wiki/数据局部性 "wikilink")，它们可能被限制在小范围的地址空间内，并且保持位置、很长时间不被触碰。这些位置因而可能容易受到多个软错误的影响，而刷洗可确保在指定时间内检查整个内存。

在某些系统上，不止主内存（基于DRAM的内存）支持刷洗，有些[CPU高速缓存](../Page/CPU缓存.md "wikilink")（基于SRAM）也可以。在大多数系统上，两者都可以独立配置刷洗速率。因为缓存比主内存小得多，所以缓存的擦洗不需要频繁进行。

内存刷洗提高了可靠性，因此它可被归类为[可靠性、可用性和可維護性](https://zh.wikipedia.org/wiki/可靠性、可用性和可維護性 "wikilink")（RAS）特性。

### 变种

它通常有两种变体，被称为巡逻刷洗（patrol scrubbing）与按需刷洗（demand scrubbing）。虽然它们本质上都执行内存刷洗及相关的错误纠正（如果可行），两者的主要区别是如何启动和执行。巡逻刷洗会在系统空闲时自动运行，而按需刷洗是在数据被主存储器实际请求时执行错误纠正。\[2\]

## 参见

  - ，包含内存刷洗等的一般分类

  - [軟性錯誤](../Page/軟性錯誤.md "wikilink")，执行内存刷洗的一个重要原因

  - [错误检测与纠正](../Page/错误检测与纠正.md "wikilink")，内存刷洗的一般理论

  - ，用于保留存储在内存中的信息。

## 参考资料

[Category:電腦記憶體](https://zh.wikipedia.org/wiki/Category:電腦記憶體 "wikilink")

1.  Ronald K. Burek.
2.
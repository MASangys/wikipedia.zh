[FreeBSD_kernel_panic.png](https://zh.wikipedia.org/wiki/File:FreeBSD_kernel_panic.png "fig:FreeBSD_kernel_panic.png")发送[SIGSEGV](../Page/SIGSEGV.md "wikilink")，导致[FreeBSD中发生的内核错误](../Page/FreeBSD.md "wikilink")。\]\]

**内核错误**（）是指[操作系统在监测到内部的](../Page/操作系统.md "wikilink")[致命错误](../Page/致命错误.md "wikilink")，并无法安全处理此错误时采取的动作。这个概念主要被限定在[Unix以及](../Page/Unix.md "wikilink")[类Unix系统中](../Page/类Unix.md "wikilink")；对于[Microsoft
Windows系统](../Page/Microsoft_Windows.md "wikilink")，等同的概念通常被称为[蓝屏死机](../Page/蓝屏死机.md "wikilink")。

操作系统[内核中处理Kernel](../Page/内核.md "wikilink")
panic的子程序（在[AT\&T衍生类以及](../Page/AT&T.md "wikilink")[BSD类Unix中](../Page/BSD.md "wikilink")，通常称为`panic()`）通常被设计用来向[控制台输出](../Page/命令行界面.md "wikilink")[错误信息](../Page/错误信息.md "wikilink")，向磁盘保存一份内核内存的[转储](../Page/核心转储.md "wikilink")，以便事后的[调试](../Page/调试.md "wikilink")，然后等待系统被手动重新引导，或自动[重新引导](../Page/重新引导.md "wikilink")。该程序提供的技术性信息通常是用来帮助[系统管理员或者](../Page/系统管理员.md "wikilink")[软件开发者诊断问题的](../Page/软件开发者.md "wikilink")。

操作系统试图读写无效或不允许的[内存地址是导致内核错误的一个常见原因](../Page/内存地址.md "wikilink")。内核错误也有可能在遇到硬件错误或操作系统BUG时发生。在不同情况中，操作系统可以在[内存访问违例发生时继续运行](../Page/内存访问违例.md "wikilink")。然而，系统处于不稳定状态时，操作系统通常会停止工作以避免造成破坏安全和数据损坏的风险，并提供错误的诊断信息。

内核错误在早期的[Unix系统中被引入](../Page/Unix.md "wikilink")，显示了在Unix与[Multics在设计哲学上的主要差异之一](../Page/Multics.md "wikilink")。Multics的开发者[Tom
van
Vleck曾引述了一段在这个问题上与Unix开发者](../Page/Tom_van_Vleck.md "wikilink")[Dennis
Ritchie的讨论](../Page/Dennis_Ritchie.md "wikilink")：
[Ubuntu-linux-kernel-panic-by-jpangamarca.JPG](https://zh.wikipedia.org/wiki/File:Ubuntu-linux-kernel-panic-by-jpangamarca.JPG "fig:Ubuntu-linux-kernel-panic-by-jpangamarca.JPG")中由硬盘硬件错误导致的内核错误。\]\]
原始的`panic()`函数从UNIX第五版开始到基于[VAX的UNIX](../Page/VAX.md "wikilink")
32V期间几乎没有变化，只是输出一条错误信息，然后就使系统进入[NOP的死循环中](../Page/NOP.md "wikilink")。当改进UNIX的基础代码的时候，`panic()`函数也有所改进，可以向控制台输出多种格式的调试信息。

## Mac OS X

[Panic10.6.png](https://zh.wikipedia.org/wiki/File:Panic10.6.png "fig:Panic10.6.png")的内核错误警告，俗称“五国”。调试信息同時被存储在[NVRAM中](../Page/NVRAM.md "wikilink")，并会在重启时写出日志文件。\]\]
在[Mac OS X v10.6 Snow
Leopard中](../Page/Mac_OS_X_10.6.md "wikilink")，当进入内核错误后，会在畫面上出现一個有[英語](../Page/英語.md "wikilink")、[法語](../Page/法語.md "wikilink")、[德語](../Page/德語.md "wikilink")、[西班牙语及](../Page/西班牙语.md "wikilink")[日語的當機畫面](../Page/日語.md "wikilink")，被多数[麥金塔電腦使用者称为](../Page/麥金塔電腦.md "wikilink")“五國語言當機”，简称“五国”。同时，调试信息被存储在[NVRAM中](../Page/NVRAM.md "wikilink")，并会在重启时写出日志文件。

出现这样的问题除了是作業系統上的問題，絕大多數是擴充[記憶體出現問題](../Page/記憶體.md "wikilink")，但亦有可能是其他[硬件出現問題](../Page/硬件.md "wikilink")。此画面亦多发生于[黑苹果安装过程中](../Page/Hackintosh.md "wikilink")。通常重新開機即可解決問題，但有時候必須被送去維修才可以解決問題。

[MacOSX_kernel_panic.png](https://zh.wikipedia.org/wiki/File:MacOSX_kernel_panic.png "fig:MacOSX_kernel_panic.png")

在[Mac OS X v10.5
Leopard及以前的版本中](../Page/Mac_OS_X_10.5.md "wikilink")，死机画面没有[西班牙语](../Page/西班牙语.md "wikilink")，只包含[英語](../Page/英語.md "wikilink")、[法語](../Page/法語.md "wikilink")、[德語及](../Page/德語.md "wikilink")[日語四种语言](../Page/日語.md "wikilink")，因此被称为“四國語言當機”，简称“四国”，由于使用时间较长，可能是多数用户习惯的名称。

在[Mac OS X v10.8 Moutain
Lion和之後的版本](../Page/OS_X_Mountain_Lion.md "wikilink")，除了原有的[英語](../Page/英語.md "wikilink")、[法語](../Page/法語.md "wikilink")、[德語](../Page/德語.md "wikilink")、[西班牙语及](../Page/西班牙语.md "wikilink")[日語外](../Page/日語.md "wikilink")，又增加[簡體中文的語系](../Page/簡體中文.md "wikilink")。

## Linux内核oops

[Linux-2.4-oops-sparc.jpg](https://zh.wikipedia.org/wiki/File:Linux-2.4-oops-sparc.jpg "fig:Linux-2.4-oops-sparc.jpg")上的Linux内核oops\]\]
[Linux-2.6-oops-parisc.jpg](https://zh.wikipedia.org/wiki/File:Linux-2.6-oops-parisc.jpg "fig:Linux-2.6-oops-parisc.jpg")上发生的Linux内核oops，用[ASCII艺术显示一头死牛](../Page/ASCII艺术.md "wikilink")\]\]

在Linux上，**oops**即[Linux内核的行为不正确](../Page/Linux内核.md "wikilink")，并产生了一份相关的错误日志。许多类型的oops会导致内核错误，即令系统立即停止工作，但部分oops也允许继续操作，以保证系统的[稳定性](../Page/稳定性.md "wikilink")。这个概念只代表一个简单的[错误](../Page/错误.md "wikilink")。

当内核检测到问题时，它会打印一个oops信息然后终止全部相关[进程](../Page/进程.md "wikilink")。oops信息可以帮助Linux内核工程师[调试](../Page/调试.md "wikilink")，检测oops出现的条件，并[修复导致oops的程序错误](../Page/修补程式.md "wikilink")。

Linux官方内核文档中提到的oops信息被放在内核源代码`Documentation/oops-tracing.txt`中\[1\]。通常`klogd`是用来将oops信息从内核缓存中提取出来的，然而，在某些系统上，例如最近的[Debian发行版中](../Page/Debian.md "wikilink")，`rsyslogd`代替了`klogd`，因此，缺少`klogd`进程并不能说明log文件中缺少oops信息的原因。

若系统遇到了oops，一些内部资源可能不再可用。即使系统看起来工作正常，非预期的副作用可能导致活动进程被终止。内核oops常常导致内核错误，若系统试图使用被禁用的资源。

Kernelloops提到了一种用于收集和提交oops到 <http://www.kerneloops.org/> 的软件\[2\]
。Kerneloops.org同时也提供oops的统计信息\[3\]。

## 参见

  - [Bug check](../Page/Bug_check.md "wikilink")
  - [蓝屏死机](../Page/蓝屏死机.md "wikilink")
  - [System.map](../Page/System.map.md "wikilink") 如何解析Linux oops

## 参考文献

## 外部連結

  - [steffi_yy
    Mac出現四國語言當機灰畫面，怎麼辦？](https://web.archive.org/web/20110713233457/http://www.xxc.idv.tw/mt/archives/steffi_yy/003491.html)

  - [简说五国语言的另外意思](http://www.macidea.com/thread-2805-1-1.html)

  -
  -
  -
  - [Kernel Oops Howto (the madwifi
    project)](http://madwifi-project.org/wiki/DevDocs/KernelOops) Useful
    information on configuration files and tools to help display oops
    messages. Also lots of other links.

  - <http://www.kerneloops.org/>

[Category:计算机错误](https://zh.wikipedia.org/wiki/Category:计算机错误 "wikilink")
[Category:作业系统核心](https://zh.wikipedia.org/wiki/Category:作业系统核心 "wikilink")
[Category:Linux核心](https://zh.wikipedia.org/wiki/Category:Linux核心 "wikilink")

1.  <http://git.kernel.org/?p=linux/kernel/git/stable/linux-2.6.27.y.git;a=blob;f=Documentation/oops-tracing.txt;h=b152e81da5923e5150de6ba6a67d6ec37219ca43;hb=HEAD>
2.  <http://linux.die.net/man/8/kerneloops>
3.  <http://www.kerneloops.org/>
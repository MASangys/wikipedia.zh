动态链接器是操作系统的一部分，负责按照[可执行程序](../Page/可执行程序.md "wikilink")[运行时的需要装入与链接](../Page/运行时.md "wikilink")[共享库](../Page/共享库.md "wikilink")。装入是指把共享库在永久存储上的内容复制到内存，链接是指填充跳转表（jump
table）与重定位指针。

## Windows操作系统

## 类Unix操作系统

**ld.so**是[Unix或](../Page/Unix.md "wikilink")[类Unix系统上的](../Page/类Unix系统.md "wikilink")[动态链接器](../Page/动态链接器.md "wikilink")，常见的有两个变体：

  - ld.so针对[a.out格式的二进制可执行文件](../Page/a.out.md "wikilink")
  - ld-linux.so针对[ELF格式的二进制可执行文件](../Page/ELF.md "wikilink")

### 加载顺序

当[应用程序需要使用](../Page/应用程序.md "wikilink")[动态链接库里的](../Page/动态链接库.md "wikilink")[函数时](../Page/函数.md "wikilink")，由ld.so负责加载。搜索[动态链接库的顺序依此是](../Page/动态链接库.md "wikilink")

  - [环境变量LD](../Page/环境变量.md "wikilink")_AOUT_LIBRARY_PATH（[a.out格式](../Page/a.out.md "wikilink")）、LD_LIBRARY_PATH（[ELF格式](../Page/ELF.md "wikilink")）；在[Linux中](../Page/Linux.md "wikilink")，LD_PRELOAD指定的目录具有最高优先权\[1\]。
  - [缓存文件](../Page/缓存.md "wikilink")/etc/ld.so.cache。此为上述环境变量指定目录的二进制索引文件。更新缓存的命令是[ldconfig](../Page/ldconfig.md "wikilink")。
  - 默认目录，先在/lib中寻找，再到/usr/lib中寻找。

### 安全性

[骇客可以通过修改上述](../Page/骇客.md "wikilink")[环境变量](../Page/环境变量.md "wikilink")，让具有特权的[应用程序加载恶意](../Page/应用程序.md "wikilink")[动态链接库](../Page/动态链接库.md "wikilink")，从而导致攻击行为。所以，对于[setuid](../Page/setuid.md "wikilink")/[setgid应用程序](../Page/setgid.md "wikilink")，动态链接器只在默认目录中寻找已被[setgid的](../Page/setgid.md "wikilink")[动态链接库](../Page/动态链接库.md "wikilink")。

## 参考文献

<div class="references-small">

<references />

</div>

[Category:计算机程序库](https://zh.wikipedia.org/wiki/Category:计算机程序库 "wikilink")
[Category:保全漏洞](https://zh.wikipedia.org/wiki/Category:保全漏洞 "wikilink")
[Category:Unix](https://zh.wikipedia.org/wiki/Category:Unix "wikilink")
[Category:操作系统](https://zh.wikipedia.org/wiki/Category:操作系统 "wikilink")

1.
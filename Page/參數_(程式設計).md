

**參數**（）或**形式引數**（）是特殊的[变量](../Page/变量_\(程序设计\).md "wikilink")，在调用[子程序](../Page/子程序.md "wikilink")时，可以透過參數向子程序传递資料。這些資料就是[子程序](../Page/子程序.md "wikilink")引數（）的值\[1\]\[2\]\[3\]，會一併列在调用子程序的位置。在子程序的[类型特征會定義參數組成的有序表](https://zh.wikipedia.org/wiki/类型特征 "wikilink")，在每次调用子程序時，也會計算這些傳入的參數，並且將對應資料送到子程序中。

不同於在數學中通常所使用的引數，計算機科學中的引數是在引動過程（）或者呼叫陳述式（）中傳遞給函式（）、程序（）或者常式（）的實際輸入表達式，而參數是子程序實現內部的變量。例如，定義一個`add`子程序為`def add(x, y): return x + y`那麼`x,y` 就是一對參數。當呼叫這個子程序時，例如`add(2, 3)`那麼，`2,3`就是一對引數，請注意，呼叫上下文中的變量（及其表達式）可以是引數，如果以子程序的形式呼叫`a = 2; b = 3; add(a, b)`則變量`a, b`是引數，而不是值`2, 3`。

在最常見的[傳值調用情況下](https://zh.wikipedia.org/wiki/求值策略#传值调用（-{Call_by_value}-） "wikilink")，參數會在子程序中充當新的局部變量，並初始化為引數的值（如果引數是變量，則為引數的[局部](https://zh.wikipedia.org/wiki/局部变量 "wikilink")（隔離）副本）。但在例如[傳引用調用的其他情況下](https://zh.wikipedia.org/wiki/求值策略#传值调用（-{Call_by_value}-） "wikilink")，調用者提供的引數變量可能會受到被調用子例程中操作的影響。

所使用的語言一般定義了如何聲明參數以及將引數（的值）傳遞給子例程的參數的語義，但是在任何特定計算機系統中如何表示該參數的細節取決於該系統的[調用約定](https://zh.wikipedia.org/wiki/調用約定 "wikilink")。

## 示例

以下使用[C語言編寫的程序定義了一個名為](https://zh.wikipedia.org/wiki/C語言 "wikilink")`SalesTax`的函數，並具有一個名為`price`的參數。`price`的類型是`double`，也就是雙精度浮點數。該函數的返回類型也是`double`。

``` c
double SalesTax( double price ){
  return 0.05 * price;
}
```

定義函數後，可以按以下方式調用它：

``` c
SalesTax(10.00);
```

示例中使用了引數`10.00`調用了該函數，此時將為price分配一個值`10.00`，然後該函數開始計算其結果。產生結果的步驟在下面指定，並用並用`{}`括起來。`0.05 * price`表示要做的第一件事是將價格乘以`0.05`，即得出`0.50`。`return`表示函數將產生的結果`0.05 * price`返回。因此，最終結果（忽略將小數部分表示為二進制時可能遇到的捨入誤差）為`0.50`。

## 參數和引數

在不同的編程語言中，術語參數和引數可能會具有不同的含義。有時它們可以互換使用，並且以上下文區分含義。術語參數（也稱為形式參數（形參，））通常用來指該變量作為在函數定義中變量的內容。而引數（也稱為實際參數（實參，））是指在函數調用中提供的實際輸入。例如，如果將一個函數定義為`def f(x): ...`，`x`則為參數。若定義有`a = ...; f(a)`來呼叫函數，那麼這裡的`a`就是引數。參數是一個（未綁定實際值的）變量，而引數可以是一個值或變量，或者是涉及值和變量的更複雜的表達式。在由值呼叫的情況下，所傳遞給函數是自變量的值。例如`f(2)`和`a = 2; f(a)`對函數的呼叫是相同的，在以變量作為參數通過引用調用時，若函數調用的語法可以保持不變，則傳遞的是對該變量的引用。具體[按值傳遞或者是](https://zh.wikipedia.org/wiki/求值策略#传值调用（-{Call_by_value}-） "wikilink")[按引用傳遞的細節規範則由函數的聲明以及定義中進行](https://zh.wikipedia.org/wiki/求值策略#传引用调用（-{Call_by_reference}-） "wikilink")。

一般而言，參數出現在過程定義中，引數則出現在過程調用中。在函數`f(x) = x*x`的定義中，變量<var>x</var>是參數。在函數`f(2)`調用中，值2是該函數的引數。簡單而不太準確的概擴來說參數是類型，而引數是實作。

參數是過程的固有屬性，包含在其定義中。例如，在許多語言中，將兩個提供的整數加在一起併計算總和的過程將需要兩個參數，每個整數一個。通常，可以使用任意數量的參數或完全不使用參數來定義過程。如果過程具有參數，則其定義中指定參數的部分稱為其參數列表（<span lang="en" dir="ltr">parameter list</span>）。

相反，引數是調用過程時提供給過程的表達式，其通常是一個與參數之一匹配的表達式。與參數（它們構成過程定義的不變部分）不同，自變量在調用之間可能有所不同。每次調用過程時，過程調用中指定引數的部分稱為引數列表（<span lang="en" dir="ltr">argument list</span>）。

儘管參數通常也被混稱為引數，但是在運行時調用子例程時，有時會將引數視為分配給參數變量的實際值或引用。在討論正在調用子例程的程式碼時，傳遞給子例程的任何值或引用都是引數。

在討論子例程定義中的程式碼時，子例程的參數列表中的變量是參數，而運行時參數的值則會是引數。例如，在C語言中，處理線程時通常會傳入`void *`類型的參數並將其強制轉換為預期的類型：

``` c
void ThreadFunction( void* pThreadArgument )
{
  //將第一個參數命名為pThreadArgument而不是pThreadParameter是正確的。
  //在運行時，我們使用的值是一個引數。
  //如上所述，在討論子例程定義時保留術語參數。
}
```

為了更好地理解它們之間的區別，請考慮以下用C語言編寫的函數：

``` c
int Sum( int addend1, int addend2 )
{
  return addend1 + addend2;
}
```

函數`Sum`具有兩個參數，分別名為`addend1`和`addend2`，這個函數將傳遞給參數的值相加，然後將結果返回給子例程的調用方（使用C語言編譯器自動提供的技術）。

調用`Sum`函數的代碼可能如下所示：

``` c
int value1 = 40;
int value2 = 2;
int sum_value = Sum(value1, value2);
```

變量`value1`和`value2`用值初始化。在這種情況下，`value1`和`value2`都是`sum`函數的引數。

在運行時，分配給這些變量的值作為參數傳遞給函數`Sum`。在`Sum`函數中，將會對參數`addend1`和`addend2`進行求值，分別得出參數40和2。將添加參數的值，並將結果返回給調用方，在此將其分配給變量`sum_value`。

由於參數和引數之間的差異，有可能向過程提供不合適的引數，也可能提供過多或過少的引數，要麼一個或多個引數可能是錯誤的類型，或者是以錯誤的順序提供了引數。這些情況中的任何一種都會導致參數列表和引數列表之間不匹配，並且該過程通常會返回意外的答案或生成[執行期](../Page/執行期.md "wikilink")錯誤。

## 數據類型

在[強類型編程語言中](../Page/強弱型別.md "wikilink")，必須在過程聲明中指定每個參數的類型。使用類型推斷的語言會嘗試從函數的主體和用法中自動推斷類型。動態類型的編程語言則會將類型解析推遲到運行時。弱類型語言幾乎沒有類型解析，甚至依靠程序員來確保正確性。

一些語言使用特殊的關鍵字（例如`void`）來指示該子例程沒有參數。在形式類型理論中，此類函數採用空參數列表（其類型不是`void`，而是）。

## 引數傳遞

將參數分配給參數的確切機制稱為參數傳遞（<span lang="en" dir="ltr">argument passing</span>），該機制取決於可以使用關鍵字來指定的參數求值策略（通常為按值傳遞）。

### 默認引數

某些編程語言（例如[Ada](../Page/Ada.md "wikilink")，[C++](../Page/C++.md "wikilink")，[Clojure](../Page/Clojure.md "wikilink")，[Common Lisp](../Page/Common_Lisp.md "wikilink")，[Fortran 90](https://zh.wikipedia.org/wiki/Fortran_90 "wikilink")，[Python](../Page/Python.md "wikilink")，[Ruby](../Page/Ruby.md "wikilink")，[Tcl](../Page/Tcl.md "wikilink")和[Windows PowerShell](../Page/Windows_PowerShell.md "wikilink")）允許在子例程的聲明中顯式或隱式給出[默認引數](../Page/缺省参数.md "wikilink")。這允許調用者在調用子例程時忽略該參數。如果顯式給出了默認引數，則如果調用者未提供該值，則使用該值。如果默認引數是隱式的（有時通過使用諸如`Optional`之類的關鍵字），則該語言將提供一個通常值（例如`null`、`Empty`、0、空字串等）。

PowerShell示例：

``` powershell
 function doc($g = 1.21) {
   "$g gigawatts? $g gigawatts? Great Scott!"
 }
```

``` ps1con
PS  > doc
1.21 gigawatts? 1.21 gigawatts? Great Scott!

PS  > doc 88
88 gigawatts? 88 gigawatts? Great Scott!
```

默認引數可以看作是可變長度引數列表的一種特殊情況。

### 可變長度參數列表

某些語言允許將子例程定義為接受[可變數量的引數](../Page/可變參數函數.md "wikilink")。對於此類語言，子例程必須遍歷參數列表。

PowerShell示例：

``` powershell
 function marty {
   $args | foreach { "back to the year $_" }
 }
```

``` ps1con
PS  > marty 1985
back to the year 1985

PS  > marty 2015 1985 1955
back to the year 2015
back to the year 1985
back to the year 1955
```

### 命名參數

某些編程語言（例如Ada和Windows PowerShell）許子例程具有命名參數。這使調用代碼更具。它還為調用者提供了更大的靈活性，通常允許更改參數的順序，或者根據需要省略參數。

PowerShell示例：

``` powershell
 function jennifer($adjectiveYoung, $adjectiveOld) {
   "Young Jennifer: I'm $adjectiveYoung!"
   "Old Jennifer: I'm $adjectiveOld!"
 }
```

``` ps1con
PS  > jennifer 'fresh' 'experienced'
Young Jennifer: I'm fresh!
Old Jennifer: I'm experienced!

PS  > jennifer -adjectiveOld 'experienced' -adjectiveYoung 'fresh'
Young Jennifer: I'm fresh!
Old Jennifer: I'm experienced!
```

### 函式語言中的多個參數

在[lambda演算中](../Page/Λ演算.md "wikilink")，每個函數只有一個參數。通常認為具有多個參數的函數在lambda演算中表示為具有第一個引數的函數，並返回具有其餘引數的函數。這種轉換也被稱為柯里化（<span lang="en" dir="ltr">Currying</span>）。一些編程語言（例如ML和Haskell）遵循此方案。在這些語言中，每個函數都只有一個參數，看起來像多個參數的函數的定義，實際上是返回一個函數的函數的定義的語法糖等。在這些語言以及lambda演算中的函數應用是的，因此，這種操作看起來會像是將函數應用於多個引數的函數先將函數應用於第一個引數，然後將結果函數應用於第二個自變量，並依此類推。

## 輸出參數

**輸出參數**，也稱為**出參**或**返回參數**，是一種用於輸出而不是更通常的使用用於輸入的參數。在某些語言中，尤其是C和C ++，輸出參數是一種習慣用法，而其他語言則內置了對輸出參數的支持。

## 相關條目

  - [求值策略](../Page/求值策略.md "wikilink")
  - [运算符重载](../Page/运算符重载.md "wikilink")
  - [自由变量和约束变量](../Page/自由变量和约束变量.md "wikilink")

## 參考資料

[Category:程式設計小作品](https://zh.wikipedia.org/wiki/Category:程式設計小作品 "wikilink") [Category:變量](https://zh.wikipedia.org/wiki/Category:變量 "wikilink") [Category:子程序](https://zh.wikipedia.org/wiki/Category:子程序 "wikilink")

1.
2.
3.
**可安装文件系统**（，缩写**IFS**）也称**可安装的文件系统**，它是[MS-DOS](../Page/MS-DOS.md "wikilink")/[PC
DOS](../Page/PC-DOS.md "wikilink") 4.x、[IBM](../Page/IBM.md "wikilink")
[OS/2和](https://zh.wikipedia.org/wiki/OS/2 "wikilink")[Microsoft
Windows中的一个](https://zh.wikipedia.org/wiki/Microsoft_Windows "wikilink")，使[操作系统能够识别和加载用于](../Page/操作系统.md "wikilink")[文件系统的](../Page/文件系统.md "wikilink")[驱动程序](../Page/驱动程序.md "wikilink")。

## 历史

在[IBM和](../Page/IBM.md "wikilink")[微软联合开发OS](../Page/微软.md "wikilink")/2时，他们意识到[FAT文件系统没有提供现代操作系统所需要的一些特性](../Page/FAT.md "wikilink")，因此微软开始开发代号为“Pinball”的[高效能檔案系統](https://zh.wikipedia.org/wiki/高效能檔案系統 "wikilink")（HPFS）。

相比FAT在操作系统内核中编写代码，微软开发了一个基于驱动程序的文件系统API，以便他们和其他开发者可以在不对内核做修改的情况下添加新文件系统。

当微软停止就OS/2的开发时，IBM继续使用该IFS接口，而微软在[Windows
NT中实现了类似的接口](../Page/Windows_NT.md "wikilink")。

## Windows 3.11和9x中的IFS

**IFSHLP.SYS**（Installable File System
Helper）是一个[MS-DOS设备驱动程序](../Page/MS-DOS.md "wikilink")，最早作为微软Windows
3.11的一部分发布。它以绕过16位元DOS
API并确保没有其他[真實模式驱动程序拦截](../Page/真實模式.md "wikilink")[INT
21h调用的方式使Windows](../Page/MS-DOS_API.md "wikilink") 386增强模式下支持原生。

IFSHLP.SYS的保护模式对应Windows 3.11中的IFSMGR.386和Windows 95以及Windows
98中的IFSMGR.VXD。\[1\]\[2\]

## Windows NT中的IFS

IFS API是[Windows Driver
Kit的一部分](https://zh.wikipedia.org/wiki/驱动程序开发工具包 "wikilink")。

当微软停止开发OS/2并专注于当时称为OS/2 NT的系统时，他们采用了IFS的想法与HPFS文件系统。

相比原来的四份方案，NT
IFS被重新设计为两份方案，microIFS和miniIFS被从方案中移除，IFS和Helper保持不变。Windows
NT
4.0中增添了助手（DEFRAG）。微软原NTLDR被编写为从FAT、[HPFS或](https://zh.wikipedia.org/wiki/高效能檔案系統 "wikilink")[NTFS编写NT内核](../Page/NTFS.md "wikilink")，不过随后的版本放弃了对HPFS的支持。上述所有驱动程序和助手程序都是32位[PE可执行文件](../Page/可移植可执行.md "wikilink")。FAT文件系统从内核中移除，转移到一个IFS，并利用32位元处理能力进行了大量性能优化（称为[FASTFAT](../Page/FAT.md "wikilink")）。

最初的Windows NT 3.1包含FAT、HPFS
(Pinball)和新创建的NTFS驱动程序，以及一个新且改进的CD-ROM文件系统驱动程序，其支持[Microsoft
Joliet文件系统所用的长文件名](../Page/Joliet_\(文件系统\).md "wikilink")。

Windows NT 3.51向NTFS和IFS接口增添了单个文件的压缩。Windows NT 4.0中，HPFS被移除。在Windows
2000中，FASTFAT的更新增添了FAT32和[通用光碟格式](../Page/通用光碟格式.md "wikilink")（UDF）的支持。

Windows 2000修改了IFS接口以增添单个文件的加密能力。

网络共享文件系统和防病毒程序也使用IFS实现。

[蘋果公司自](https://zh.wikipedia.org/wiki/蘋果公司 "wikilink")[Mac OS X
10.6的](../Page/Mac_OS_X_Snow_Leopard.md "wikilink")[Boot
Camp中开始包含只读的](https://zh.wikipedia.org/wiki/Boot_Camp "wikilink")[HFS+驱动程序](../Page/HFS+.md "wikilink")，以供[Windows
XP](../Page/Windows_XP.md "wikilink")、[Windows
Vista和](../Page/Windows_Vista.md "wikilink")[Windows
7使用](https://zh.wikipedia.org/wiki/Windows_7 "wikilink")。\[3\]

## 参考书目

  - O'Reilly - Windows NT File System Internals, A Developer's Guide -
    By Rajeev Nagar -
  - Microsoft Press - Inside Windows NT File System - By Helen Custer -
  - Microsoft Press - Inside Windows NT - By Helen Custer -

## 参见

  - [虛擬檔案系統](https://zh.wikipedia.org/wiki/虛擬檔案系統 "wikilink")
  - [文件系统列表](../Page/文件系统列表.md "wikilink")
  - [文件系统的对比](../Page/文件系统的对比.md "wikilink")
  - [IFSHLP.SYS](https://zh.wikipedia.org/wiki/IFSHLP.SYS "wikilink")

## 参考资料

## 外部链接

  - [Microsoft's
    IFSKit](http://www.microsoft.com/whdc/devtools/ifskit/default.mspx)

[Category:文件系统](https://zh.wikipedia.org/wiki/Category:文件系统 "wikilink")
[Category:微軟API](https://zh.wikipedia.org/wiki/Category:微軟API "wikilink")
[Category:OS/2](https://zh.wikipedia.org/wiki/Category:OS/2 "wikilink")

1.
2.
3.
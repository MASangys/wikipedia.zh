**存储池**，是[微软](../Page/微软.md "wikilink")在[Windows Server 2012开始加入的一个新功能](../Page/Windows_Server_2012.md "wikilink")，同时出现在与其同期的桌面版操作系统[Windows 8上](https://zh.wikipedia.org/wiki/Windows_8 "wikilink")，但功能略有删减。存储池功能包括一个可以向其添加硬盘的“池”，以及可以从池中建立虚拟的由windows管理的磁盘“存储空间”。在Windows Server 2012 r2和[Windows 10中](../Page/Windows_10.md "wikilink")，存储池增加了优化空间功能，powershell指令为Optimize-Storagepool，该指令可以平衡池中各虚拟磁盘在物理磁盘中的分布情况。

### 开始使用

管理员权限下执行powershell指令：

Get-PhysicalDisk

当结果中有-CanPool为true的磁盘时，用户可以开始构建存储池

``` powershell numberLines
$disks = Get-PhysicalDisk -CanPool $true
$subSysName = (Get-StorageSubSystem).FriendlyName
New-StoragePool -FriendlyName <YourFriendlyName> -StorageSubsystemFriendlyName $subSysName -PhysicalDisks $disks
```

构建成功后，需要构建虚拟磁盘以利用存储池内的空间

``` powershell
New-VirtualDisk -FriendlyName <DiskName> -StoragePoolFriendlyName <刚刚创建的存储池名> -NumberOfColumns <number, allign with disk number> -UseMaximumSize -ResiliencySettingName Simple
```

执行成功后系统将创建一块虚拟磁盘，该磁盘类似于raid0或job（具体取决于您指定的NumberOfColumns参数，最小为1，最大为当前池中可用的磁盘数）

[Category:Windows服务器](https://zh.wikipedia.org/wiki/Category:Windows服务器 "wikilink")
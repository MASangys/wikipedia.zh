**差分约束系统**（System of Difference
Constraints），是求解關於一組變數的[特殊不等式組之方法](../Page/特殊不等式組.md "wikilink")。

如果一个系统由\(n\)个变量和\(m\)个约束条件组成，其中每个约束条件形如\(x_j-x_i \le b_k(i,j \in [1,n], k \in [1,m])\),则称其为差分约束系统。亦即，差分约束系统是求解关于一组变量的特殊不等式组的方法。
　　

## 解法

求解差分約束系統，可以轉化成[圖論的單源最短](../Page/圖論.md "wikilink")[路徑問題](../Page/路徑.md "wikilink")。觀察\(x_j-x_i \le b_k\)，會發現它類似最短路中的三角不等式\(d[v] \le d[u]+w[u,v]\)，即\(d[v]-d[u] \le w[u,v]\)。因此，以每個變數\(x_i\)為結點，對於約束條件\(x_j-x_i \le b_k\)，連接一條邊\((i,j)\)，邊權為\(b_k\)。再增加一個[原點](../Page/原點.md "wikilink")\((s, s)\)與所有[定點相連](../Page/定點.md "wikilink")，[邊權均為](../Page/邊權.md "wikilink")0。對這個圖以s為原點運行[Bellman-ford演算法](../Page/Bellman-ford演算法.md "wikilink")（或[SPFA演算法](../Page/SPFA演算法.md "wikilink")），最終\(\{d[i]\}\)即為一組可行解。
　　例如，考虑这样一个问题，寻找一个5维向量\(x=(x_i)\)以满足：

　　这一问题等价于找出未知量 \(x_i, i \in \{1,2,3,4,5\}\) ，满足下列8个差分约束条件：
　　　　\(x_2-x_5 \le 1\)
　　　　\(x_1-x_2 \le 0\)
　　　　\(x_1-x_5 \le -1\)
　　　　\(x_3-x_1 \le 5\)
　　　　\(x_4-x_1 \le 4\)
　　　　\(x_4-x_3 \le -1\)
　　　　\(x_5-x_3 \le -3\)
　　　　\(x_5-x_4 \le -3\)
　　该问题的一个解为\(x=(-5,-3,0,-1,-4)\)，另一个解\(y=(0,2,5,4,1)\)，这2个解是有联系的：\(y\)中的每个元素比\(x\)中相应的元素大5。
　　引理：设\(x=(x_1,x_2,\cdots,x_n)\)是差分约束系统\(Ax \le b\)的一个解，d为任意常数。则\(x+d=(x_1+d,x_2+d,\cdots,x_n+d)\)也是该系统\(Ax \le b\)的一个解。
bellman-ford算法-{zh-hans:伪代码; zh-hant:虛擬碼; zh-cn:伪代码; zh-tw:虛擬碼;
zh-hk:虛擬碼; zh-sg:伪代码}-：

    # initialization
    for each v in V do
        d[v] ← ∞;
    d[source] ← 0
    # Relaxation
    for i =1,...,|V|-1 do
        for each edge (u,v) in E do
            d[v] ← min{d[v], d[u]+w(u,v)}
    # Negative cycle checking
    for each edge (u, v) in E do
        if d[v]> d[u] + w(u,v) then
            no solution

[Category:數學](https://zh.wikipedia.org/wiki/Category:數學 "wikilink")
[Category:计算機算法](https://zh.wikipedia.org/wiki/Category:计算機算法 "wikilink")
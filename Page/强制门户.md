[Captive_Portal.png](https://zh.wikipedia.org/wiki/File:Captive_Portal.png "fig:Captive_Portal.png")

**强制门户**（英文：Captive
portal，又名**强制网络门户**、**强制主页**）是在授予新连接至[Wi-Fi](../Page/Wi-Fi.md "wikilink")的用户更广的网络（互联网）访问权限之前在其[网页浏览器](../Page/网页浏览器.md "wikilink")呈现中的网页，其常用于呈现可能需要认证或接受[最终用户许可协议](https://zh.wikipedia.org/wiki/最终用户许可协议 "wikilink")/[可接受使用策略的着陆页或登录页](https://zh.wikipedia.org/wiki/可接受使用策略 "wikilink")。强制门户应用于方方面面的移动宽带服务中（如有线连接、计费Wi-Fi及家庭热点），同时也可提供对企业或家庭有线网络（公寓、酒店和商业中心的网络）的访问权限。

呈现至客户端的强制门户有可能存放在[网关](../Page/网关.md "wikilink")或[網頁伺服器](../Page/網頁伺服器.md "wikilink")上。网关也可白名单特定网站或[TCP端口以使用户在不使用网络门户的情况下访问网络](https://zh.wikipedia.org/wiki/TCP/UDP端口列表 "wikilink")。已连接客户端的[MAC地址](../Page/MAC地址.md "wikilink")可用于绕过特定设备的登录流程。

## 用途

强制门户主要用于开放的无线网络中，用户将收到欢迎信息及服务条款（许可端口、使用责任等等）。管理员以此来使其用户对自己的行为负责，并避免自身可能的法律责任。但这种责任授权是否具有法律效力仍有争议。\[1\]\[2\]

强制门户通常用于营销和商业交流用途。用户往往需要先在网页浏览器中打开登记表单，填写自己的个人数据后才能访问[互联网](../Page/互联网.md "wikilink")。这种表单可能会自动在用户的浏览器中打开，也有可能会在用户使用浏览器打开任意网页时出现。换言之，用户被“捕获”（即英文“Captive”的字面意思）——直至完成表单前用户都无法自由访问互联网，使得服务提供商可向连接至Wi-Fi接入点的用户显示或发送广告。由于其可能需要[社交网络账号](../Page/社会网络.md "wikilink")（如[微信](../Page/微信.md "wikilink")、[Facebook](../Page/Facebook.md "wikilink")）登录，这种类型的服务有时被称为“社交Wi-Fi”。近年来，随着多个公司开始提供基于Wi-Fi数据的市场营销，社交Wi-Fi强制门户也渐渐成为家常便饭。

## 实现

市面上存在多种实现强制门户的方式。

### HTTP重定向

常见方法之一是将所有[万维网](../Page/万维网.md "wikilink")流量定向至网页服务器，同时向强制门户返回[HTTP重定向](../Page/HTTP_302.md "wikilink")。
\[3\]当现代互联网设备首次连接至网络时，其将发出HTTP请求并期望返回[HTTP
204状态码](../Page/HTTP状态码.md "wikilink")。若设备接收到HTTP
204状态码，则设备将认为自己拥有无限的互联网访问权限；若设备接收到HTTP
302状态码，则设备显示强制门户提示。\[4\]\[5\]

### ICMP重定向

网关也可使用[网络层](../Page/网络层.md "wikilink")的[互联网控制消息协议](../Page/互联网控制消息协议.md "wikilink")重定向客户端流量。

### 重定向DNS

当客户端请求互联网

1.
2.
3.
4.
5.
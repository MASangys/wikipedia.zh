在[计算机科学中](../Page/计算机科学.md "wikilink")，[形式语言是](../Page/形式语言.md "wikilink")：某个[字母表上](https://zh.wikipedia.org/wiki/字母表_\(计算机科学\) "wikilink")，一些有限长[字串的集合](https://zh.wikipedia.org/wiki/字串 "wikilink")，而**形式文法**是描述这个集合的一种方法。**形式文法**之所以这样命名，是因为它与人类自然语言中的[文法相似的缘故](../Page/文法.md "wikilink")。

**形式文法**描述形式语言的基本想法是，从一个特殊的初始符号出发，不断的应用一些产生式规则，从而生成出一个字串的集合。产生式规则指定了某些符号组合如何被另外一些符号组合替换。举例来说，假设字母表只包含'a'和'b'两个字符，初始符号是'S'，我们应用下述规则：

  -
    1\. S -\> aSb
    2\. S -\> ba

于是我们可以通过把"S"重写为"aSb"（规则1），我们还可以继续应用这条规则把"aSb"重写为"aaSbb"。这个重写的过程不断重复，直到结果中只包含字母表中的字母为止。在例子中，我们可以得到S
-\> aSb -\> aaSbb -\> aababb这样的结果。由文法刻画的语言，包含了所有可以这样产生的字串，比如ba, abab,
aababb, aaababbb等等。

## 形式定义

一个形式文法*G*是下述元素构成的一个[四元组](../Page/多元组.md "wikilink")（*N*, Σ, *P*, *S*）：

  - “**非终结符号**”集合*N*。
  - “**终结符号**”集合Σ，Σ与*N*无交。
  - 取如下形式的一组“**产生式规则**” *P*，

<!-- end list -->

  -
    (Σ ∪ *N*)\*中的字符串→ (Σ ∪ *N*)\*
    中的字符串（這裡的\*是[克萊尼星號](https://zh.wikipedia.org/wiki/克萊尼星號 "wikilink")），并且产生式左侧的字符串中必须至少包括一个非终结符号。

<!-- end list -->

  - “**起始符号**”*S*，*S*属于*N*。

一个由形式文法*G* = (*N*, Σ, *P*,
*S*)产生的语言是所有如下形式的[字符串集合](../Page/字符串.md "wikilink")，这些字符串全部由“终结符号”集Σ中符号构成，并且可以从“初始符号”*S*出发，不断应用*P*中的“产生式规则”而得到。

### 例子

考虑如下的文法*G*，其中*N* = {S, B}, Σ = {a, b, c}, *P*包含下述规则

  -
    1\. S -\> aBSc
    2\. S -\> abc
    3\. Ba -\> aB
    4\. Bb -\> bb

非终结符号*S*作为初始符号。下面给出字串推导的例子：（推导使用的产生式规则用括号标出，替换的字串用黑体标出）

  - **S** -\> (2) abc
  - **S** -\> (1) aB**S**c -\> (2) a**Ba**bcc -\> (3) aa**Bb**cc -\> (4)
    aabbcc
  - **S** -\> (1) aB**S**c -\> (1) aBaB**S**cc -\> (2) aBa**Ba**bccc -\>
    (3) aaB**Ba**bccc -\> (3) aa**Ba**Bbccc -\> (3) aaaB**Bb**ccc -\>
    (4) aaa**Bb**bccc -\> (4) aaabbbccc

很清楚这个文法定义了语言{ a<sup>*n*</sup>b<sup>*n*</sup>c<sup>*n*</sup> | *n* \> 0
}，这里a<sup>*n*</sup>表示*n*个a 串連所得的字串。

又如以下的文法*G*，其中*N* = {S, D}, Σ = {-, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9},
*P*包含如下规则：

  -
    1\. S -\> -D
    2\. S -\> D
    3\. D -\> 0D
    4\. D -\> 1D
    5\. D -\> 2D
    ...
    12\. D -\> 9D
    13\. D -\> 0
    14\. D -\> 1
    15\. D -\> 2
    ...
    22\. D -\> 9

*S*为初始符号。以此文法可以产生所有整数。

形式文法与[Lindenmayer系统](../Page/L系統.md "wikilink")（L-系统）类似，但有几点不同：L-系统不区分**终结符号**和**非终结符号**；L-系统限制规则的应用顺序；L-系统能不停地运行，产生一个无限长的字串列。通常情况下，每一个字符串同空间中的一个点集联系起来，而L-系统的输出就是这个点集列的极限。L-系统可以用于模拟细胞的生长，所以又被称为[发展系统](https://zh.wikipedia.org/wiki/发展系统 "wikilink")。

## 文法的分类

某些类型的文法及其产生的语言得到了细致的研究并被单独命名。最常见的文法的分类系统是[诺姆·乔姆斯基于](../Page/诺姆·乔姆斯基.md "wikilink")1956年发展的[乔姆斯基谱系](../Page/乔姆斯基谱系.md "wikilink")，这个分类谱系把所有的文法分成四种类型：[无限制文法](../Page/无限制文法.md "wikilink")、[上下文相关文法](https://zh.wikipedia.org/wiki/上下文相关文法 "wikilink")、[上下文无关文法和](../Page/上下文无关文法.md "wikilink")[正规文法](https://zh.wikipedia.org/wiki/正规文法 "wikilink")。四类文法对应的语言类分别是[递归可枚举语言](../Page/递归可枚举语言.md "wikilink")、[上下文相关语言](https://zh.wikipedia.org/wiki/上下文相关语言 "wikilink")、[上下文无关语言和](../Page/上下文无关语言.md "wikilink")[正规语言](https://zh.wikipedia.org/wiki/正规语言 "wikilink")。这四种文法类型依次拥有越来越严格的产生式规则，同时文法所能表达的语言也越来越少。尽管表达能力比无限制文法和上下文相关文法要弱，但由于能高效率的实现，四类文法中最重要的是上下文无关文法和正规文法。例如对上下文无关语言存在算法可以生成高效率的[LL分析器和](https://zh.wikipedia.org/wiki/LL分析器 "wikilink")[LR分析器](https://zh.wikipedia.org/wiki/LR分析器 "wikilink")。

### 上下文无关文法

上下文无关文法要求产生式左侧只能包含一个符号，并且该符号为非终结符号。上例定义的语言{
a<sup>*n*</sup>b<sup>*n*</sup>c<sup>*n*</sup> | *n* \> 0
}并不是一个上下文无关语言，但{
a<sup>*n*</sup>b<sup>*n*</sup> | *n* \> 0
}是一个上下文无关语言。具体如下，文法*G2*包括*N*={S},
Σ={a,b}, S是起始符号，产生式规则有：

  -
    1\. S -\> aSb
    2\. S -\> ab

### 正规文法

正规文法有多种等价的定义，我们可以用**左线性文法**或者**右线性文法**来等价地定义正规文法：

  - **左线性文法**要求产生式的左侧只能包含一个非终结符号，产生式的右侧只能是空串、一个终结符号或者<u>一个非终结符号后随一个终结符号</u>。
  - **右线性文法**要求产生式的右侧只能包含一个非终结符号，产生式的左侧只能是空串、一个终结符号或者<u>一个终结符号后随一个非终结符号</u>。

上例定义的语言{ a<sup>*n*</sup>b<sup>*n*</sup> | *n* \> 0
}不是一个正规语言。下面给出一个正规语言的例子，语言{
a<sup>*n*</sup>b<sup>*m*</sup> | *m*,*n* \> 0
}是一个正规语言。文法*G3*包括*N*={S,A,B}, Σ={a,b},
S是起始符号，产生式规则有：

  -
    1\. S -\> aA
    2\. A -\> aA
    3\. A -\> bB
    4\. B -\> bB
    5\. B -\> ε

## 参考文献

## 外部链接

  - [Yearly Formal Grammar conference](http://www.formalgrammar.tk/)

## 参见

  - [抽象语法树](https://zh.wikipedia.org/wiki/抽象语法树 "wikilink")
  - [歧义文法](https://zh.wikipedia.org/wiki/歧义文法 "wikilink")
  - [巴科斯范式](../Page/巴科斯范式.md "wikilink")
  - [具体语法树](https://zh.wikipedia.org/wiki/具体语法树 "wikilink")
  - [L-系统](https://zh.wikipedia.org/wiki/L-系统 "wikilink")
  - [波斯特规范系统](https://zh.wikipedia.org/wiki/波斯特规范系统 "wikilink")

[Category:形式语言](https://zh.wikipedia.org/wiki/Category:形式语言 "wikilink")
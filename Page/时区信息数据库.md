[Tz_world_mp-color.svg](https://zh.wikipedia.org/wiki/File:Tz_world_mp-color.svg "fig:Tz_world_mp-color.svg")
**时区信息数据库**，又称**TZ database**、**Zoneinfo
database**，是一个主要应用于电脑程序以及操作系统的，可协作编辑世界[时区信息的](../Page/时区.md "wikilink")[数据库](../Page/数据库.md "wikilink")\[1\]。由于该数据库由David
Olson创立，因而有些地方也将其称作**Olson数据库**\[2\]。数据库由Paul Eggert进行编辑和维护\[3\]。

它的显著特色是由上面提到的Paul
Eggert设计的一套通用时区命名规则，例如"America/New_York"和"Europe/Paris"\[4\]。数据库试图记录自1970年（Unix元年）以来时区和城市的变化\[5\]，并且还包含一些时间的转换，例如[夏令时和](https://zh.wikipedia.org/wiki/夏令时 "wikilink")[闰秒](../Page/闰秒.md "wikilink")\[6\]。

## 历史

该项目可以追溯至1986年之前\[7\]。
项目的数据库和一些涉及到的[源代码已经释放到](../Page/源代码.md "wikilink")[公有领域](../Page/公有领域.md "wikilink")\[8\]。
通常，数据库会每年更新若干次，并发布变更公告\[9\]。

## 时区的定义

在时区信息数据库中，“时区”被定义为自1970年当地时间统一的国家及地区\[10\]。这种定义方法关注于一个具有相同时间的地理区域，它与其他对时区的定义方法不同的是，其他方法关注于不同时区与本初子午线之间的时差。因而数据库中定义的每个时区都会记录一系列对[协调世界时的时差](../Page/协调世界时.md "wikilink")，同一时区内一般会包含标准时间和夏令时两种。

## 时区的命名

为了更容易地理解，每个时区按照“区域/位置”格式，得到一个独有的名称，例如“America/New_York”。英文地名中的空格用下划线“_”代替，连词符“-”只在英文地名本身包含时使用。

### 区域

“区域”指的是[大洲](https://zh.wikipedia.org/wiki/大洲 "wikilink")、[大洋名称以及Etc](https://zh.wikipedia.org/wiki/大洋 "wikilink")。大陆和海洋名称中包括：[非洲](../Page/非洲.md "wikilink")、[美洲](../Page/美洲.md "wikilink")、[亚洲](../Page/亚洲.md "wikilink")、[欧洲](../Page/欧洲.md "wikilink")、[大洋洲](../Page/大洋洲.md "wikilink")、[南极洲](https://zh.wikipedia.org/wiki/南极洲 "wikilink")，[太平洋](https://zh.wikipedia.org/wiki/太平洋 "wikilink")、[大西洋](../Page/大西洋.md "wikilink")、[印度洋](../Page/印度洋.md "wikilink")、[北冰洋](../Page/北冰洋.md "wikilink")。

Etc用作一些管理时区，具体而言例如“Etc/UTC”，意为[协调世界时](../Page/协调世界时.md "wikilink")（**C**oordinated
**U**niversal
**T**ime）。为了与[POSIX标准统一](https://zh.wikipedia.org/wiki/POSIX "wikilink")，以“Etc/[GMT](https://zh.wikipedia.org/wiki/GMT "wikilink")”标记的时区将保留时区符号，即在格林威治时间（GMT）以西的区域的时区符号为正，以东区域符号为负。

### 地点

“地点”指的是是在区域中的特定地点的名称，通常是城市或小岛屿的名称。

由于政权更替以及边界的变动，国家名称不能稳定地描述一个区域，故不适合用来命名时区。相比之下，大城市的名称更加固定。然而，数据库的维护者们想为每一个国家代码添加至少一个时区，这样很多用户访问数据库的界面就能够得到优化。另外，（管理者们）还想让时区的地点在地理上更加紧凑，在未来时区可能发生的变化中，不会将原有的时区分割为不同的时区。

通常会选择时区内一个人口多的城市作为该时区的名称，也有使用其他城市名称的情况，例如使用一些更加有名或不易引起歧义的城市作为名称。如果一个城市名发生了变化，则会在未来的版本中生成该城市的别名，这样无论通过哪个名称访问，结果都会指向数据库中同一条记录。

有时候，“地点”本身也是一个复合名称，例如“”时区。目前数据库中存在的三级时区名称包括：“America/Argentina/...”、“America/Kentucky/...”、“America/Indiana/...”和“America/North_Dakota/...”。

由于“地点”的命名会选取这个区域具有代表性的名称，因而不是每个城市都有一个以它命名的时区，例如没有“America/Boston”这个时区。此外，数据库中不同位置尽管有不同的名称，它们也有可能目前拥有同一个时区，例如一些历史上曾经分处不同时区（“America/Detroit”和“America/New_York”）和一些在不同国家的位置（“Europe/Prague”和“Europe/Bratislava”）。

## 时区数据

对于那些有多个时间偏移（通常指的是标准情况和夏令时情况下两个变量）的时区，时区信息数据库会记录准确的偏移变换时刻。数据记录的格式也可以将转换过程中日期和时间的变化记录起来。

### Zone.tab文件

文件存在于互联网中，文件格式的相关说明可参考文件中的注释，如下所示：

**原文**

`# This file contains a table with the following columns:`
`# 1.  ```.  See the file `iso3166.tab'.``
`# 2.  Latitude and longitude of the zone's principal location`
`#     in `[`ISO``
 ``6709`](https://zh.wikipedia.org/wiki/ISO_6709 "wikilink")` sign-degrees-minutes-seconds format,`
`#     either +-DDMM+-DDDMM or +-DDMMSS+-DDDMMSS,`
`#     first latitude (+ is north), then longitude (+ is east).`
`# 3.  Zone name used in value of TZ environment variable.`
`# 4.  Comments; present if and only if the country has multiple rows.`
`#`
`# Columns are separated by a single tab.`
`# The table is sorted first by country, then an order within the country that`
`# (1) makes some geographical sense, and`
`# (2) puts the most populous zones first, where that does not contradict (1).`

**译文**

`# 文件中的表格包含以下几列：`
`# 1.  ``.  详见文件“iso3166.tab”。`
`# 2.  时区代表位置的经纬度。`
`#     `[`ISO``
 ``6709标准中为符号`](https://zh.wikipedia.org/wiki/ISO_6709 "wikilink")`-度-分-秒格式，`
`#     即±度度分分±度度度分分或±度度分分秒秒±度度度分分秒秒，`
`#     前半部分为纬度（+为北半球），后半部分为经度（+为东半球）。`
`# 3.  时区名称，用作时区信息数据库中的环境变量。`
`# 4.  注解，当且仅当该国家有多行记录时存在。`
`#`
`# 列之间以一個`[`定位字元分隔`](https://zh.wikipedia.org/wiki/定位字元 "wikilink")`。`
`# 表格以国家进行排列，对国家内的不同记录，以下列方式进行排序`
`# (1) 按照地理位置进行排序`
`# (2) 在不与（1）冲突的前提下，将人口最多的区域置于首位。`

## 1970年之前的数据

1970年之前的数据由于城市区域的变化需要进行修正，没有必要对整个区域的时区信息进行修正，这是由于新划分的区域仅需要与1970年至今的时钟进行时差比较。

例如，在1963年10月23日至1963年12月9日，[巴西只有](../Page/巴西.md "wikilink")[米纳斯吉拉斯](https://zh.wikipedia.org/wiki/米纳斯吉拉斯 "wikilink")（）、[圣埃斯皮里图州](../Page/圣埃斯皮里图州.md "wikilink")（）、[里约热内卢州](https://zh.wikipedia.org/wiki/里约热内卢州 "wikilink")（[Rio
de
Janeiro](https://zh.wikipedia.org/wiki/Rio_de_Janeiro "wikilink")）和[圣保罗](https://zh.wikipedia.org/wiki/圣保罗 "wikilink")（）有夏令时，由于自1970年以来圣保罗整个区域内时钟相同，导致一个区域无法从时区中划分出来，这是1970年之前的数据需要修正的原因之一\[11\]。

以柏林时间（）为准的德国时间（见），在1945年之后的英、美、苏三国共同占领区域则是一段时间并未按照柏林时间进行夏令时变换。

## 文件格式

时区信息数据库（Tz
database）以[文本文件的形式发布](../Page/文本文件.md "wikilink")，文件以可阅读的形式记录了的条目规则和时区过渡信息。为便于使用，这些文本文件被[编译为与操作系统无关的](https://zh.wikipedia.org/wiki/编译 "wikilink")[二进制文件](https://zh.wikipedia.org/wiki/二进制文件 "wikilink")，每个时区对应一个文件。相关的代码包括，被称为**zic**（Zone
Information
Compiler，时区信息编译器），以及用来读取其他文件，并将文件中的时区信息应用于[应用程序接口](../Page/应用程序接口.md "wikilink")（例如`localtime()`和`mktime()`）。

## 维护

时区信息相关的代码和数据库由一群志愿者维护。Arthur David Olson侧重于代码的编辑，Paul
Eggert则侧重于数据库。计划变更的条目会被送到项目的邮件列表中，在[Usenet的comp](../Page/Usenet.md "wikilink").time.tz[讨论组中](../Page/新闻组.md "wikilink")。项目源文件发布在FTP服务器elsie.nci.nih.gov上，这些源文件被类似于[Debian的软件发行商编译](../Page/Debian.md "wikilink")、打包后成为发行版本中的一部分。终端用户可以通过对发行版本的升级来更新数据库，当然这样更新会有一些滞后，或者直接从ftp://elsie.nci.nih.gov/pub/
获得源代码，自己编译生成二进制文件。
基于类似原则的一个[未来维护计划](http://tools.ietf.org/html/draft-lear-iana-timezone-database-02.html)已经由[互联网号码分配局起草完成](../Page/互联网号码分配局.md "wikilink")。

## 其他标准下的应用

CLDR\[12\]（Common Locale Data
Repository，通用区域数据库）使用对区域进行判断[1](http://cldr.unicode.org/index/bcp47-extension)。
这意味着字符将与国家对应，这是时区信息数据库想要避免的状况。

## 软件系统中的应用

时区信息数据库用来处理时区和进行时区转换，已经应用于很多的计算机系统中，包括：

  - [BSD衍生操作系统](../Page/BSD.md "wikilink")，包括[FreeBSD](../Page/FreeBSD.md "wikilink")、[NetBSD](../Page/NetBSD.md "wikilink")、[OpenBSD](../Page/OpenBSD.md "wikilink")、[DragonFly
    BSD和](../Page/DragonFly_BSD.md "wikilink")[Mac OS
    X](https://zh.wikipedia.org/wiki/Mac_OS_X "wikilink")；
  - [GNU C
    库以及使用它的系统](https://zh.wikipedia.org/wiki/GNU_C_函式库 "wikilink")，包括[GNU](../Page/GNU.md "wikilink")、大多数的[Linux发行版](../Page/Linux发行版.md "wikilink")、[BeOS](../Page/BeOS.md "wikilink")、[Haiku](../Page/Haiku.md "wikilink")、[Nexenta
    OS以及](../Page/Nexenta_OS.md "wikilink")[Cygwin](../Page/Cygwin.md "wikilink")；
  - [System V Release
    4衍生系统](https://zh.wikipedia.org/wiki/System_V "wikilink")，例如[Solaris和](https://zh.wikipedia.org/wiki/Solaris_\(操作系统\) "wikilink")[UnixWare](https://zh.wikipedia.org/wiki/UnixWare "wikilink")；
  - [AIX](https://zh.wikipedia.org/wiki/AIX "wikilink")
    6.1及更高版本\[13\]\[14\]（自AIX
    5.2开始的较早版本，仅为支持[MySQL](../Page/MySQL.md "wikilink")\[15\]之类的[第三方软件而加入时区信息](https://zh.wikipedia.org/wiki/第三方软件 "wikilink")\[16\]，但其并未将时区信息应用到操作系统中\[17\]\[18\]。）；
  - 一些其他的[Unix操作系统](https://zh.wikipedia.org/wiki/Unix "wikilink")，包括[Tru64和](https://zh.wikipedia.org/wiki/Tru64 "wikilink")[UNICOS](https://zh.wikipedia.org/wiki/UNICOS "wikilink")/mp（还有[IRIX](../Page/IRIX.md "wikilink")，维护而不发行）；
  - [OpenVMS](https://zh.wikipedia.org/wiki/OpenVMS "wikilink");
  - [JAVA运行时环境](../Page/JRE.md "wikilink") 1.4（2002）以后的发行版；
  - [Perl的](../Page/Perl.md "wikilink")[DateTime::TimeZone](http://search.cpan.org/dist/DateTime-TimeZone/)以及[DateTime::LeapSecond](http://search.cpan.org/dist/DateTime/)组件，2003年起；
  - [PHP发行版](../Page/PHP.md "wikilink") 5.1.0（2005）及以后；
  - [Python组件](../Page/Python.md "wikilink")[pytz](http://pypi.python.org/pypi/pytz/2010o)；
  - [.NET
    Framework的](https://zh.wikipedia.org/wiki/.NET_Framework "wikilink")[zoneinfo](http://zoneinfo.codeplex.com/)组件；
  - [Oracle](../Page/Oracle数据库.md "wikilink") 10g（2004）以后的发行版\[19\]；
  - [PostgreSQL](../Page/PostgreSQL.md "wikilink") 8.0 （2005）以后的版本；
  - 嵌入式软件，例如IP钟表中的固件。

Olson时区编号被[Unicode](https://zh.wikipedia.org/wiki/Unicode "wikilink")
CLDR（）和ICU（）采纳。例如，在CLDR窗口→Tzid表格给出了[微软](../Page/微软.md "wikilink")[Windows操作系统中的时区ID与Olson标准名称的映射关系](https://zh.wikipedia.org/wiki/Windows操作系统 "wikilink")\[20\]。

## 另见

  - [时区](../Page/时区.md "wikilink")
  - [夏令时](https://zh.wikipedia.org/wiki/夏令时 "wikilink")

## 参考文献

  - "tz mailing list"; archives of these messages are available at
    \<<ftp://elsie.nci.nih.gov/pub/tzarchive.gz>\>.

## 外部链接

  - [ITU LEGAL
    TIME 2011](http://www.itu.int/dms_pub/itu-t/opb/sp/T-SP-LT.1-2011-PDF-E.pdf)
  - [The tz database home
    page](http://cs.ucla.edu/~eggert/tz/tz-link.htm)
  - [The tz mailing list
    archive](https://web.archive.org/web/20080203090339/http://news.gmane.org/gmane.comp.time.tz)
  - [Current tz source and data raw files](ftp://elsie.nci.nih.gov/pub/)
  - [Current tz data files compiled to multiple
    formats](http://code.google.com/p/tzdata/)
  - [Lists of tz-zones by
    tz-group](http://www.php.net/manual/en/timezones.php)
  - [The tz database converted to SQL
    format](https://web.archive.org/web/20110521015150/http://ipinfodb.com/timezonedatabase.php)
  - [Olson Database converted to Windows Standard
    Format](http://www.timdavis.com.au/data/olson-time-zone-database-to-standard-windows-time-zone-v01/)
  - [“A literary appreciation of the Olson/Zoneinfo/tz
    database”](http://blog.jonudell.net/2009/10/23/a-literary-appreciation-of-the-olsonzoneinfotz-database/)
    by [Jon Udell](https://zh.wikipedia.org/wiki/Jon_Udell "wikilink")

[Category:时区](https://zh.wikipedia.org/wiki/Category:时区 "wikilink")
[Category:时区信息数据库](https://zh.wikipedia.org/wiki/Category:时区信息数据库 "wikilink")

1.

2.

3.

4.  {{ cite mailing list | last=Eggert | first=Paul | title=proposal for
    time zone names | date=1993-10-20 | mailinglist=tz }}

5.  {{ cite mailing list | last=Olson | first=Arthur David | title=Re:
    ist of issues | date=1987-03-18 | mailinglist=tz }}

6.

7.

8.

9.  {{ cite web | title=zoneinfo tzcode and tzdata archives (FTP) |
    url=<ftp://munnari.oz.au/pub/oldtz/> | accessdate=2007-10-30 }}

10. **Theory** (text file), contained in the "tzcode" distribution.
    Version tzcode2007h.tar.gz 2007-10-01 referenced.

11.

12.

13.

14.

15. )

16.

17.
18.

19.

20.
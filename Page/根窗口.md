[Some_X_windows.svg](https://zh.wikipedia.org/wiki/File:Some_X_windows.svg "fig:Some_X_windows.svg")

在[X窗口系统中](../Page/X_Window系統.md "wikilink")，每一个[視窗都包含在另一个窗口中](../Page/視窗.md "wikilink")，这个视窗对它来说称之为父窗口。这使视窗间形成了一个[等级制度](../Page/等级制度.md "wikilink")。**根窗口**在这个等级制度中的最顶级，它与[屏幕一样大](../Page/显示器.md "wikilink")，其他所有窗口都是它的后代。

由于每一个窗口都覆盖了父窗口的一部分，所以其他窗口均在根窗口之上显示。因此，根窗口只能在其他窗口之后显示一部分。换一种说法，根窗口构成了屏幕的背景，通过一些方法（比如`xsetroot`或是程序）可以将一张图片设置作为[電腦壁紙](https://zh.wikipedia.org/wiki/電腦壁紙 "wikilink")。

根窗口的直系后代被称为顶级窗口，这些窗口通常包含了装饰框架和一个标题栏（实际都是由[窗口管理器添加](https://zh.wikipedia.org/wiki/窗口管理器 "wikilink")）。顶级窗口一般是[图形用户界面中的普通窗口](../Page/图形用户界面.md "wikilink")，而非顶级窗口一般用于按钮、文本框等[控件](../Page/控件.md "wikilink")。

根窗口的属性有时会被作为客户端间通信的一种基本手段。举个例子，是根窗口用于复制一个窗口中选中的部分到另一个窗口的属性，窗口管理器会将根窗口的名字显示在状态区，也会在执行时存储到根窗口的一个属性。

## 虚拟根窗口

窗口管理器引入了**虚拟根窗口**。从X协议角度看，这是一个普通的窗口。但是，[X視窗管理器会将所有窗口的父级从真实根窗口替换为虚拟根窗口](../Page/X視窗管理器.md "wikilink")。虚拟根窗口主要供使用，用于提供如用户可切换的多个。

其他客户端（与窗口管理器相比）有可能使用虚拟根窗口，此时可以在真实根窗口的直系子项中找到名为`__SWM_VROOT`的窗口属性，其中有该窗口的标识符。在技术上，很多工程使用宏去查找作为包含`vroot.h`的根窗口。

[Freedesktop.org窗口管理器规范要求真实根窗口有一个名为](../Page/Freedesktop.org.md "wikilink")`_NET_VIRTUAL_ROOTS`的属性来包含一个作为虚拟根窗口的窗口列表；目前在`_NET_CURRENT_DESKTOP`属性中能找到的活动虚拟根窗口。

虚拟根窗口常被SWM、、和[Enlightenment窗口管理器使用](../Page/Enlightenment.md "wikilink")。其他诸如[KDE的系统使用一个虚拟背景窗口](../Page/KDE.md "wikilink")（比如包含各图标），但没有将其他窗口重分配给此窗口。也使用虚拟根窗口：当屏幕保护被激活时，该程序创建一个虚拟根窗口，并放置在其他所有窗口上，以及调用其模块来找到该虚拟根窗口并在其中绘制。

## 使用根窗口的实用工具

  - [Conky](../Page/Conky.md "wikilink")
  - [root-tail](http://root-tail.plan9.de/)

## 参见

  - [X Window系統](../Page/X_Window系統.md "wikilink")
  - [X Window系統的協議和架構](../Page/X_Window系統的協議和架構.md "wikilink")

## 扩展链接

  - [Extended Window Manager
    Hints](http://standards.freedesktop.org/wm-spec/wm-spec-1.3.html)，freedesktop.org提供
  - [toon_root.c](https://web.archive.org/web/20070311080032/http://www.koders.com/c/fid3A542CD442140144DE353023A75F039DAB50A3EA.aspx?s=tree)，一个XPenguins的源文件，包含了各种有关窗口管理器的虚拟根/桌面窗口的信息

[Category:X_Window系统](https://zh.wikipedia.org/wiki/Category:X_Window系统 "wikilink")
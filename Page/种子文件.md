{{ Infobox file format | name = 种子文件（） | icon = | logo = | extension =
`.torrent` | mime = application/x-bittorrent | standard = BEP-0003\[1\]
}}
[BitTorrent协议的](https://zh.wikipedia.org/wiki/BitTorrent协议 "wikilink")**种子文件**（）可以保存一组[文件的元数据](https://zh.wikipedia.org/wiki/文件 "wikilink")。这种格式的文件被BitTorrent协议所定义\[2\]。[扩展名一般为](https://zh.wikipedia.org/wiki/扩展名 "wikilink")“.torrent”。

## 结构

.torrent种子文件本质上是[文本文件](../Page/文本文件.md "wikilink")，包含Tracker信息和文件信息两部分。Tracker信息主要是BT下载中需要用到的Tracker服务器的地址和针对Tracker服务器的设置，文件信息是根据对目标文件的计算生成的，计算结果根据BitTorrent协议内的[Bencode规则进行编码](../Page/Bencode.md "wikilink")。它的主要原理是需要把提供下载的文件虚拟分成大小相等的块，块大小必须为2k的整数次方（由于是虚拟分块，硬盘上并不产生各个块文件），并把每个块的索引信息和[Hash验证码写入种子文件中](https://zh.wikipedia.org/wiki/Hash "wikilink")；所以，种子文件就是被下载文件的“索引”。

种子文件包含以下数据：

  - `announce` -
    [tracker的](https://zh.wikipedia.org/wiki/tracker "wikilink")[URL](https://zh.wikipedia.org/wiki/URL "wikilink")
  - `info` - 该条映射到一个字典，该字典的键将取决于共享的一个或多个文件：
      - `name` - 建议保存到的文件和目录名称
      - `piece length` - 每个文件块的字节数。通常为\(2^{8}\) = 256KB = 262144B
      - `pieces` -
        每个文件块的[SHA-1的整合Hash](../Page/SHA-1.md "wikilink")。因为SHA-1会返回160-bit的Hash，所以`pieces`将会得到1个160-bit的整数倍的字符串。和一个`length`（相当于只有一个文件正在共享）或`files`（相当于当多个文件被共享）：
      - `length` - 文件的大小（以字节为单位）
      - `files` - 一个字典的列表（每个字典对应一个文件）与以下的键：
          - `path` - 一个对应子目录名的字符串列表，最后一项是实际的文件名称
          - `length` - 文件的大小（以字节为单位）

## 作用

根据[BitTorrent协议](https://zh.wikipedia.org/wiki/BitTorrent协议 "wikilink")，文件发布者会根据要发布的文件生成提供一个种子文件。下载者要下载文件内容，需要先得到相应的种子文件，然后使用[BT客户端软件进行下载](https://zh.wikipedia.org/wiki/BT客户端 "wikilink")。

下载时，BT客户端首先解析种子文件得到[Tracker地址](https://zh.wikipedia.org/wiki/Tracker "wikilink")，然后连接Tracker服务器。

下载者每得到一个块，需要算出下载块的Hash验证码与种子文件中的对比，如果一样则说明块正确，不一样则需要重新下载这个块。这种规定是为了解决下载内容准确性的问题。

为了解决某些用户“下完就跑”的现象，在非官方BitTorrent协议中还存在一种[超级种子的](https://zh.wikipedia.org/wiki/超级种子 "wikilink")[算法](../Page/算法.md "wikilink")。

## 参考

  - [磁力链接](../Page/磁力链接.md "wikilink")

## 外部链接

  - [Search engine for Torrent
    files](https://web.archive.org/web/20170827135558/http://p2psearch.org/)

[Category:BitTorrent](https://zh.wikipedia.org/wiki/Category:BitTorrent "wikilink")
[Category:文件格式](https://zh.wikipedia.org/wiki/Category:文件格式 "wikilink")

1.
2.
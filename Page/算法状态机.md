**算法状态机**（，[縮寫](../Page/縮寫.md "wikilink")：**ASM**）方法是设计[有限状态机](../Page/有限状态机.md "wikilink")的一种方法。在[数字电路](../Page/数字电路.md "wikilink")设计中，算法状态机图是对[时序逻辑状态转移的一种图形描述](../Page/时序逻辑电路.md "wikilink")。在功能上，算法状态机图与[状态图](../Page/状态图.md "wikilink")类似。

## 与流程图的区别

在外观上，算法状态机图与计算机[程序设计](../Page/程序设计.md "wikilink")的[流程图](../Page/流程图.md "wikilink")使用了相当类似的图形符号，但是二者具有很大的差异。这种差异是软件设计和硬件设计的本质差异带来的：硬件数字电路的状态转移是根据[定時器訊號](../Page/定時器訊號.md "wikilink")来实现同步的，即每过一个时钟周期“步进”一个状态，因此算法状态机的状态转移隐含着时序的信息，相邻状态的转移所跨越的时间往往精确单个时间脉冲，而软件程序设计则一般不包含时间脉冲信息。\[1\]

## 设计步骤

利用算法状态机方法来设计有限状态机，需要依次完成以下步骤：

1.  根据需要完成的状态跳转功能，创建一组对应的算法，可以使用[伪代码](../Page/伪代码.md "wikilink")来描述电路模块的所需工作流程；
2.  将伪代码转换到算法状态机图（ASM图）；
3.  根据算法状态机图设计数据路径；
4.  在数据路径的基础上完成算法状态机图的其他细节；
5.  为算法状态机的各个状态之间的转移设计控制逻辑单元。

## 算法状态机图

[ASM_Chart_State_Box.png](https://zh.wikipedia.org/wiki/File:ASM_Chart_State_Box.png "fig:ASM_Chart_State_Box.png") [ASM_Chart_Decision_Box.png](https://zh.wikipedia.org/wiki/File:ASM_Chart_Decision_Box.png "fig:ASM_Chart_Decision_Box.png") [ASM_Chart_Conditional_Output_Box.png](https://zh.wikipedia.org/wiki/File:ASM_Chart_Conditional_Output_Box.png "fig:ASM_Chart_Conditional_Output_Box.png") 算法状态机图（ASM图）由四中基本元素：状态名称、状态盒、状态决定盒和条件输出盒，后三者之间用箭头连接起来。由于[摩尔型有限状态机](../Page/摩尔型有限状态机.md "wikilink")的输出只与当前的状态有关，因此其输出情况被标注在状态盒内部，而[米利型有限状态机](../Page/米利型有限状态机.md "wikilink")的状态块中不会标注输出情况。

  - 状态名：有限状态机各个状态的名称被标注在一个状态块的左上角，有时还可以标注上该状态所分配到的状态码。
  - 状态盒：其外形为一个长方形方块，摩尔型有限状态机的输出由状态盒表示（输出只与当前状态有关）。
  - 状态决定盒：其外形为一个菱形块，这个方块会标注上即将被测试的表达式，然后对应不同的测试结果，给出不同的处理路径。算法状态机的状态决定盒一般具有一个输入路径和两个输出路径（分别对应条件满足和条件不满足）。状态决定盒的选择条件表达式是两个输入变量的函数。
  - 条件输出盒：其外形为一个圆角方形块，米利型有限状态机的输出由条件输出盒表示（输出与当前状态和输入信号同时有关）。

## 数据路径

当有限状态机的时序逻辑电路用[寄存器传输级](../Page/寄存器传输级.md "wikilink")[硬件描述语言](../Page/硬件描述语言.md "wikilink")代码描述之后，[综合工具会自动生成一系列数据路径部件](../Page/逻辑综合.md "wikilink")。过程代码块中被赋值的变量在实际的硬件电路中可以通过[硬件寄存器来实现数据的储存](https://zh.wikipedia.org/wiki/硬件寄存器 "wikilink")。根据不同赋值操作实现的功能，这样的硬件寄存器可以是单纯的寄存器、[移位寄存器](../Page/移位寄存器.md "wikilink")、[计数器](../Page/计数器.md "wikilink")或其他含有组合逻辑网络的[触发器](../Page/触发器.md "wikilink")电路（组合逻辑网络可以是[加法器](../Page/加法器.md "wikilink")、减法器、[数据选择器](../Page/数据选择器.md "wikilink")的各种组合方式）。

## 参考文献

## 相关条目

  - [有限状态机](../Page/有限状态机.md "wikilink")（[摩尔型](../Page/摩尔型有限状态机.md "wikilink")、[米利型](../Page/米利型有限状态机.md "wikilink")）
  - [状态图](../Page/状态图.md "wikilink")、[流程图](../Page/流程图.md "wikilink")

## 外部链接

  - [Background of the Algorithmic State Machine (ASM) Notation](http://www.cse.sc.edu/~jimdavis/Tools/kbs_flowhdl_ASM.htm)
  - [Brief Introduction to ASM Charts](http://uhaweb.hartford.edu/jmhill/suppnotes/AsmChart/index.htm)
  - [ASM++: a modern Algorithmic State Machine methodology for RTL designs](http://www.epyme.uva.es/asm++)

[Category:计算机工程](https://zh.wikipedia.org/wiki/Category:计算机工程 "wikilink") [Category:電子設計自動化](https://zh.wikipedia.org/wiki/Category:電子設計自動化 "wikilink")

1.
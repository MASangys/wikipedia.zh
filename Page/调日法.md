**调日法**\[1\]是[南北朝](https://zh.wikipedia.org/wiki/南北朝 "wikilink")[数学家](../Page/数学家.md "wikilink")[何承天发明的一种系统地寻找精确](../Page/何承天_\(南朝\).md "wikilink")[分数以表示天文数据或](https://zh.wikipedia.org/wiki/分数 "wikilink")[数学常数的](../Page/数学常数.md "wikilink")[内插法](https://zh.wikipedia.org/wiki/内插 "wikilink")。据宋史卷七十四：“宋世何承天，更以四十九分之二十六为强率，十七分之九为弱率；于强弱之际，以求日法……自后治历者，莫不因承天法，累强弱之数”调日法后來传入[日本](../Page/日本.md "wikilink")。
[Diaorifa.GIF](https://zh.wikipedia.org/wiki/File:Diaorifa.GIF "fig:Diaorifa.GIF")
中国有学者认为[祖冲之可能利用何承天的调日法求得](../Page/祖冲之.md "wikilink")[圆周率的约率和密率](https://zh.wikipedia.org/wiki/圆周率 "wikilink")：

  -
    圆周率的约率= \(\frac{22}{7}\\)
    圆周率的密率= \(\frac{355}{113}\\)

何承天的调日法是他对数学的一项重要贡献。一千年以后，15世纪法国数学家[尼古拉·休凯](https://zh.wikipedia.org/wiki/尼古拉·休凯 "wikilink")（1455年
━ 1488年），才使用相似的插入法。

## 何承天调日法原理

已知\(\frac{a}{b}< \frac{c}{d}\)

则\(\frac{a}{b}< \frac{a+c}{b+d}< \frac{c}{d}\)

推而广之： \(\frac{a}{b}< \frac{ma+kc}{mb+kd}< \frac{c}{d}\)，其中 m,k 为正整数。

欲求精确分数\(f_n\)使\(|f-f_n|<\delta\)，其中\(\delta\)为误差界限。

令\(f_0= \frac{a}{b}\)为弱率，\(f_1=\frac{c}{d}\)为强率。

第一步，根据下列方法求得一个近似分数

\(f_2= \frac{a+c}{b+d}\)

如果\(f_2>f\)，则将\(f_2= \frac{a+c}{b+d}\\) 作为新的强分数，和旧弱分数
\(\frac{a}{b}\\)**调日**得到近似分数：

\(f_3 = \frac{a+c+a}{b+d+b}\\)

如果\(f_2<f\)， 则将\(f_2 = \frac{a+c}{b+d}\\) 作为新的弱分数，和旧强分数 \(\frac{c}{d}\\)
**调日**得到近似分数：

\(f_3 = \frac{a+c+c}{b+d+d}\\)

反复操作，到\(|f-f_n|<\delta\) 为止。

## 应用

何承天调日法被同时代和后代数学家如[赵爽](../Page/赵爽.md "wikilink")，[祖冲之](../Page/祖冲之.md "wikilink")，[一行等运用](../Page/一行.md "wikilink")。

### 朔望月

何承天将
\(\frac{9}{17}\\)作为朔望月零数部分的弱率，以\(\frac{26}{49}\\)作为作为朔望月零数部分的强率。运用调日法，最后得到
\(\frac{399}{752}\\)：

\[\frac{9}{17}\\].

\[\frac{26}{49}\\].

\[\frac{35}{66}\\].

\[\frac{61}{115}\\].

\[\frac{87}{164}\\].

\[\frac{113}{213}\\].

\[\frac{139}{262}\\].

  -
    ………
    \(\frac{347}{654}\\).
    \(\frac{373}{703}\\).
    \(\frac{399}{752}\\).

727年[唐朝](../Page/唐朝.md "wikilink")[天文学家](../Page/天文学家.md "wikilink")[一行在](../Page/一行.md "wikilink")[大衍历法中用同样的弱率和强率求得更精确的](https://zh.wikipedia.org/wiki/大衍历法 "wikilink")
\(\frac{1613}{3040}\\)：

\[\frac{9}{17}\\].

\[\frac{26}{49}\\].

\[\frac{35}{66}\\].

\[\frac{61}{115}\\].

  -
    ………………
    \(\frac{1561}{2942}\\).
    \(\frac{1587}{2991}\\).
    \(\frac{1613}{3040}\\).

### 闰周问题

南北朝数学家祖冲之熟悉调日术，他以\(\frac{4}{11}\\)为弱率，
以\(\frac{7}{19}\\)为强率，通过调日法得到\(\frac{144}{391}\\)

\[{4 \over    11}\]

\[{7 \over    19}\]

\[{11 \over     30}\]

\[{18 \over     49}\]

\[{25 \over     68}\]

  -
    ……………………
    \({130 \over 353}\)
    \({137 \over 372}\)
    \({144  \over 391}\)

### 近点月

何承天以\(\frac{56}{101}\)为弱率，以\(\frac{5}{9}\)为强率，用调日法求得近点月为\(\frac{417}{752}\)

  -

    \({56 \over 101}\).

    \({5    \over           9}\).

    \({        61   \over          110}\).

    \({ 117    \over   211}\).

    ……………………

    \({        356  \over     642}\).

    \({       361   \over    651}\).

    \({       417   \over    752}\).

祖冲之的近点月更精确： \({56 \over 101}\). \({5    \over           9}\).
\({        61   \over          110}\). \({ 117    \over   211}\).
……………………

\[{        356  \over     642}\].

\[{       361   \over    651}\].

\[{       417   \over    752}\]. 何承天近点月。

  -
    ……………………
    \({   14621    \over  26359}\).
    \({    14626  \over    26368}\).
    \({   14631   \over   26377}\). 祖冲之的近点月。

### 圆周率约率和密率

祖冲之求圆周率约率和密率的方法已失传。有学者认为他用[刘徽割圆术求得圆周率的约率和密率](https://zh.wikipedia.org/wiki/刘徽割圆术 "wikilink")
；也有学者认为祖冲之有可能用何承天的调日法求得圆周率的约率和密率的分数表示式\[2\]。
祖冲之对调日法是熟悉的，他自己就用过调日法改进何承天近点月\(\frac{417}{752}\)为更加精确的\({   14631   \over   26377}\)

以\({3 \over 1}\)为弱率以\({4 \over 1}\)为强率，用调日法进行计算：

  -

    \({       3   \over      1 }\)= 3
    <span style="font-size:larger;">《[周髀算經](../Page/周髀算經.md "wikilink")》周三径一</span>。

    \({         4  \over        1 }\)= 4

    \({         7  \over        2 }\)= 3.5

    \({        10  \over        3 }\)= 3.3333333333

    \({         13  \over        4 }\)= 3.25

    \({        16  \over        5  }\)= 3.2

    \({        19  \over        6 }\)= 3.1666666667

    \({     22  \over        7 }\)= 3.1428571429
    <span style="font-size:larger;">祖冲之约率</span>

    \({        25  \over        8 }\)= 3.125

    \({       47   \over      15  }\)= 3.1333333333

    \({        69  \over       22 }\)= 3.1363636364

    \({        91  \over       29 }\)= 3.1379310345

    \({       113  \over       36 }\)= 3.1388888889

    \({       135  \over       43 }\)= 3.1395348837

    \({       157  \over       50 }\)= 3.14
    <span style="font-size:larger;">[刘徽圆周率](../Page/刘徽.md "wikilink")：徽率</span>

    \({       179  \over       57 }\)= 3.1403508772

    \({       201  \over       64 }\)= 3.140625

    \({       223  \over       71 }\)= 3.1408450704

    \({       245  \over       78 }\)= 3.141025641

    \({       267  \over       85 }\)= 3.1411764706

    \({       289  \over       92 }\)= 3.1413043478

    \({       311  \over       99 }\)= 3.1414141414

    \({       333  \over      106 }\)= 3.141509434

    \({       355  \over      113 }\)= 3.1415929204
    <span style="font-size:larger;">祖冲之密率</span>

祖冲之密率 \({355 \over 113}\) 和π之误差为0.0000002668。下一个比之更為精确的分数为
\({52163 \over    16604 }\)= 3.1415923874 误差为
-0.0000002662，分子、分母都比祖冲之密率的分子、分母複雜得多。

祖冲之很可能先用刘徽割圆术求出圆周率。刘徽割圆术计算需要多次开平方运算，例如用八次割圆术得到π=
\({3927 \over 1250}\)=3.1416\[3\]，
无论分子分母都比祖冲之密率的分子分母复杂，但还不如密率的分数表示准确。用十一次割圆术可得到和密率相当精确但比较复杂的分数，再通过调日法求得准确而又简单的分数式。

调日法后传入[日本](../Page/日本.md "wikilink")。日本数学家[关孝和](../Page/关孝和.md "wikilink")（Seki,
Takakazu, 1642-1708）在《括要算法》一书中称之为**零约术**，并用之得出圆周率的近似分数
=\(\frac{355}{113}\\)\[4\]，正是祖冲之的密率。

## 黄金分割与[斐波那契数列](../Page/斐波那契数列.md "wikilink")

[黄金分割](https://zh.wikipedia.org/wiki/黄金分割 "wikilink")：

\[\varphi = \frac{\sqrt{5} + 1}{2} \approx 1.6180339887...\] 用调日法求分数表示：

\[{          1   \over      1}\]

\[{         2    \over     1}\]

\[{          3   \over      2}\]

\[{          5   \over      3}\]

\[{          8   \over      5}\]

\[{         13   \over      8}\]

\[{         21   \over     13}\]

\[{        34    \over    21}\]

\[{         55   \over     34}\]

\[{         89   \over     55}\]

\[{        144   \over     89}\]

\[{        233   \over    144}\]

\[{        377   \over    233}\]

\[{        610   \over    377}\]

\[{        987   \over    610}\]

\[{       1597   \over    987}\]

\[{       2584   \over   1597}\]

\[{       4181   \over  2584}\]
分母1,2,3,5,8,13,21,....正是[斐波那契数列](../Page/斐波那契数列.md "wikilink")。

## 其他

  - √2=1.4142135623 \~=\({99 \over 70}\)
  - √3=1.7320508075 \~=\({71 \over 41}\)
  - √5=2.2360679775 \~=\({199 \over 89}\)
  - √10=3.162277660 \~=\({117 \over 37}\)
  - \(\sqrt [12] {2}\)=1.059463094\~=\({107 \over 101}\)
  - e=2.718281828 \~=\({2721 \over 1001}\)
  - [普朗克常数](../Page/普朗克常数.md "wikilink")
    \~=\({53 \over 8}\)x10<sup>-34</sup>
  - [万有引力常数](../Page/万有引力常数.md "wikilink")
    G\~=\({227 \over 34}\)x10<sup>-11</sup>
  - [阿伏伽德罗常量](https://zh.wikipedia.org/wiki/阿伏伽德罗常量 "wikilink")\~=\({241 \over 40}\)x10<sup>23</sup>
  - [玻尔兹曼常数](https://zh.wikipedia.org/wiki/玻尔兹曼常数 "wikilink")\~=\({29 \over 21}\)x10<sup>-23</sup>

## 参考文献

<div class="references-small">

<references />

</div>

[Category:中國古代數學](https://zh.wikipedia.org/wiki/Category:中國古代數學 "wikilink")
[Category:数学近似](https://zh.wikipedia.org/wiki/Category:数学近似 "wikilink")

1.  中國古时将天文数据的小数部分的[分母称为](https://zh.wikipedia.org/wiki/分母 "wikilink")「日」，「调日术」即是调节分母的意思。
2.  [吴文俊](../Page/吴文俊.md "wikilink") 主编
    《[中国数学史大系](https://zh.wikipedia.org/wiki/中国数学史大系 "wikilink")》第四卷
    123页，ISBN7-300-0425-8/O
3.  傅海伦编著 《中外数学史概论》 第四章 刘徽的割圆术 51页 科学出版社，ISBN978-7-03-018477- 1
4.  [吴文俊](../Page/吴文俊.md "wikilink") 主编 《中国数学史大系》第四卷
    125页，ISBN7-300-0425-8/O
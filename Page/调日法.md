> 本文内容由[调日法](https://zh.wikipedia.org/wiki/调日法)转换而来。


**调日法**\[1\]是[南北朝](https://zh.wikipedia.org/wiki/南北朝 "wikilink")[数学家](../Page/数学家.md "wikilink")[何承天发明的一种系统地寻找精确](../Page/何承天_\(南朝\).md "wikilink")[分数以表示天文数据或](https://zh.wikipedia.org/wiki/分数 "wikilink")[数学常数](../Page/数学常数.md "wikilink")的[内插法](https://zh.wikipedia.org/wiki/内插 "wikilink")。据宋史卷七十四：“宋世何承天，更以四十九分之二十六为强率，十七分之九为弱率；于强弱之际，以求日法……自后治历者，莫不因承天法，累强弱之数”调日法后來传入[日本](../Page/日本.md "wikilink")。 [Diaorifa.GIF](https://zh.wikipedia.org/wiki/File:Diaorifa.GIF "fig:Diaorifa.GIF") 中国有学者认为[祖冲之](../Page/祖冲之.md "wikilink")可能利用何承天的调日法求得[圆周率的约率和密率](https://zh.wikipedia.org/wiki/圆周率 "wikilink")：

  -
    圆周率的约率为 \(\frac{22}{7}\\)
    圆周率的密率为 \(\frac{355}{113}\\)

何承天的调日法是他对数学的一项重要贡献。一千年以后，15世纪法国数学家[尼古拉·休凯](https://zh.wikipedia.org/wiki/尼古拉·休凯 "wikilink")（1455年 ━ 1488年），才使用相似的插入法。

## 何承天调日法原理

已知\(\frac{a}{b}< \frac{c}{d}\)

则\(\frac{a}{b}< \frac{a+c}{b+d}< \frac{c}{d}\)

推而广之： \(\frac{a}{b}< \frac{ma+kc}{mb+kd}< \frac{c}{d}\)，其中 m,k 为正整数。

欲求精确分数\(f_n\)使\(|f-f_n|<\delta\)，其中\(\delta\)为误差界限。

令\(f_0= \frac{a}{b}\)为弱率，\(f_1=\frac{c}{d}\)为强率。

第一步，根据下列方法求得一个近似分数

\(f_2= \frac{a+c}{b+d}\)

如果\(f_2>f\)，则将\(f_2= \frac{a+c}{b+d}\\) 作为新的强分数，和旧弱分数 \(\frac{a}{b}\\)**调日**得到近似分数：

\(f_3 = \frac{a+c+a}{b+d+b}\\)

如果\(f_2<f\)， 则将\(f_2 = \frac{a+c}{b+d}\\) 作为新的弱分数，和旧强分数 \(\frac{c}{d}\\) **调日**得到近似分数：

\(f_3 = \frac{a+c+c}{b+d+d}\\)

反复操作，到\(|f-f_n|<\delta\) 为止。

另外，还可以直接求m,k的数值，加快逼近速度： 若\(\frac{a}{b}<x<\frac{c}{d}\)，且 \(x-\frac{a}{b}=d_{1}\)以及\(\frac{c}{d}-x=d_{2}\)

如果有正整数m,k满足：\(\frac{kd}{mb}=\frac{d_{1}}{d_{2}}\)

那么就有：\(x=\frac{ma+kc}{mb+kd}\)

证明如下：由条件可得

\(bd_{1}=bx-a\)

\(dd_{2}=c-dx\)

而根据\(\frac{kd}{mb}=\frac{d_{1}}{d_{2}}\)又有

\(mbd_{1}=kdd_{2}\)

代入上面的两个关系式可得：

\(m(bx-a)=k(c-dx)\)

解关于x的一元一次方程就有结果： \(x=\frac{ma+kc}{mb+kd}\)

## 应用

何承天调日法被同时代和后代数学家如[赵爽](../Page/赵爽.md "wikilink")，[祖冲之](../Page/祖冲之.md "wikilink")，[一行](../Page/一行.md "wikilink")等运用。

### 朔望月

何承天将 \(\frac{9}{17}=0.529412...\\)作为朔望月零数部分的弱率，以\(\frac{26}{49}=0.530612...\\)作为朔望月零数部分的强率。运用调日法，最后得到 \(\frac{399}{752}\\)，根据他的观测数值0.530585，首先计算d1,d2

\(d_{1}=0.530585-0.529412=0.001173\)

\(d_{2}=0.530612-0.530585=0.000027\)

寻找满足以下关系的m,k值：

\(\frac{49k}{17m}=\frac{1173}{27}\)

\(\frac{k}{m}=\frac{1173\times17}{49\times27}=15.07...\)

可以令(m,k)=(1,15)

从而得到：

\(\frac{1\times9+15\times26}{1\times17+15\times49}=\frac{399}{752}\)

727年[唐朝](../Page/唐朝.md "wikilink")[天文学家](../Page/天文学家.md "wikilink")[一行](../Page/一行.md "wikilink")在[大衍历法中用同样的弱率和强率求得](https://zh.wikipedia.org/wiki/大衍历法 "wikilink") \(\frac{1613}{3040}\\)

### 闰周问题

南北朝数学家祖冲之熟悉调日术，他以\(\frac{4}{11}\\)为弱率， 以\(\frac{7}{19}\\)为强率，通过调日法得到\(\frac{144}{391}\\)

### 近点月

何承天以\(\frac{56}{101}\)为弱率，以\(\frac{5}{9}\)为强率，用调日法求得近点月为\(\frac{417}{752}\)。祖冲之也得到高精度的数值\({   14631   \over   26377}\)

### 圆周率约率和密率

祖冲之求圆周率约率和密率的方法已失传。有学者认为他用[刘徽割圆术求得圆周率的约率和密率](https://zh.wikipedia.org/wiki/刘徽割圆术 "wikilink") ；也有学者认为祖冲之有可能用何承天的调日法求得圆周率的约率和密率的分数表示式\[2\]。 祖冲之对调日法是熟悉的，他自己就用过调日法改进何承天近点月\(\frac{417}{752}\)为更加精确的\({   14631   \over   26377}\)

取\(\pi\approx3.1416\)，先只考虑小数部分，根据\(\frac{1}{8}<0.1416<\frac{1}{7}\)，用调日法进行计算：

\(d_{1}=0.1416-0.125=0.0166\)

\(d_{2}=0.142857-0.1416=0.001257\)

寻找满足以下关系的m,k值：

\(\frac{7k}{8m}=\frac{0.0166}{0.001257}\)

\(\frac{k}{m}=\frac{8\times0.0166}{7\times0.001257}=15.09...\approx15\)

所以可以令(m,k)=(1,15)，从而可以得到结果：

\(3+\frac{1\times1+1\times15}{1\times8+15\times7}=3+\frac{16}{113}=\frac{355}{113}\)

祖冲之密率 \({355 \over 113}\) 和π之误差为0.0000002668。下一个比之更為精确的分数为 \({52163 \over    16604 }\)= 3.1415923874 误差为 -0.0000002662，分子、分母都比祖冲之密率的分子、分母複雜得多。

祖冲之很可能先用刘徽割圆术求出圆周率。刘徽割圆术计算需要多次开平方运算，例如用八次割圆术得到π= \({3927 \over 1250}\)=3.1416\[3\]， 无论分子分母都比祖冲之密率的分子分母复杂，但还不如密率的分数表示准确。用十一次割圆术可得到和密率相当精确但比较复杂的分数，再通过调日法求得准确而又简单的分数式。

调日法后传入[日本](../Page/日本.md "wikilink")。日本数学家[关孝和](../Page/关孝和.md "wikilink")（Seki, Takakazu, 1642-1708）在《括要算法》一书中称之为**零约术**，并用之得出圆周率的近似分数 =\(\frac{355}{113}\\)\[4\]，正是祖冲之的密率。

## 黄金分割与[斐波那契数列](../Page/斐波那契数列.md "wikilink")

[黄金分割](https://zh.wikipedia.org/wiki/黄金分割 "wikilink")：

\[\varphi = \frac{\sqrt{5} + 1}{2} \approx 1.6180339887...\] 用调日法求分数表示：

\[{          1   \over      1}\]

\[{         2    \over     1}\]

\[{          3   \over      2}\]

\[{          5   \over      3}\]

\[{          8   \over      5}\]

\[{         13   \over      8}\]

\[{         21   \over     13}\]

\[{        34    \over    21}\]

\[{         55   \over     34}\]

\[{         89   \over     55}\]

\[{        144   \over     89}\]

\[{        233   \over    144}\]

\[{        377   \over    233}\]

\[{        610   \over    377}\]

\[{        987   \over    610}\]

\[{       1597   \over    987}\]

\[{       2584   \over   1597}\]

\[{       4181   \over  2584}\] 分母1,2,3,5,8,13,21,....正是[斐波那契数列](../Page/斐波那契数列.md "wikilink")。

## 其他

  - √2=1.4142135623 \~=\({99 \over 70}\)
  - √3=1.7320508075 \~=\({71 \over 41}\)
  - √5=2.2360679775 \~=\({199 \over 89}\)
  - √10=3.162277660 \~=\({117 \over 37}\)
  - \(\sqrt [12] {2}\)=1.059463094\~=\({107 \over 101}\)
  - e=2.718281828 \~=\({2721 \over 1001}\)
  - [普朗克常数](../Page/普朗克常数.md "wikilink") \~=\({53 \over 8}\)x10<sup>-34</sup>
  - [万有引力常数](../Page/万有引力常数.md "wikilink") G\~=\({227 \over 34}\)x10<sup>-11</sup>
  - [阿伏伽德罗常量](https://zh.wikipedia.org/wiki/阿伏伽德罗常量 "wikilink")\~=\({241 \over 40}\)x10<sup>23</sup>
  - [玻尔兹曼常数](https://zh.wikipedia.org/wiki/玻尔兹曼常数 "wikilink")\~=\({29 \over 21}\)x10<sup>-23</sup>

## 参考文献

[Category:中國古代數學](https://zh.wikipedia.org/wiki/Category:中國古代數學 "wikilink") [Category:数学近似](https://zh.wikipedia.org/wiki/Category:数学近似 "wikilink")

1.  中國古时将天文数据的小数部分的[分母称为](https://zh.wikipedia.org/wiki/分母 "wikilink")「日」，「调日术」即是调节分母的意思。
2.  [吴文俊](../Page/吴文俊.md "wikilink") 主编 《[中国数学史大系](https://zh.wikipedia.org/wiki/中国数学史大系 "wikilink")》第四卷 123页，ISBN7-300-0425-8/O
3.  傅海伦编著 《中外数学史概论》 第四章 刘徽的割圆术 51页 科学出版社，ISBN978-7-03-018477- 1
4.  [吴文俊](../Page/吴文俊.md "wikilink") 主编 《中国数学史大系》第四卷 125页，ISBN7-300-0425-8/O
**键盘扫描码**（）是绝大多数[电脑键盘向](../Page/电脑键盘.md "wikilink")[计算机发送的一项数据](https://zh.wikipedia.org/wiki/计算机 "wikilink")，用以报告哪些键被按下。它使用一个数字或数字序列来表示分配到键盘上的每个按键。

## 变种

以行、列映射按键位置能减少复杂[硬件的使用](../Page/硬件.md "wikilink")；因此在过去，使用[软件或](../Page/软件.md "wikilink")[韌體翻译扫描码为文本字符比连](../Page/韌體.md "wikilink")-{接}-文本字符键盘更便宜。\[1\]这项成本差异已随时间演变而不再明显。但目前，仍有许多种计算机在使用传统的扫描码以维护[向下兼容](../Page/向下兼容.md "wikilink")。

部分键盘标准中，每个按键的按下与松开的扫描码不相同。此外，许多键盘标准（例如[IBM
PC兼容机](../Page/IBM_PC兼容机.md "wikilink")）允许键盘本身发送“typematic”表示键盘按键被持续按住，键盘本身在重复生成扫描码。

## 扫描码集

### PC兼容机

[IBM
PC兼容机](../Page/IBM_PC兼容机.md "wikilink")[键盘上的扫描码是由键盘发送的](../Page/电脑键盘.md "wikilink")1至3个字节为一组。大多数字符键具有单字节扫描码，执行特殊功能的按键用2字节或3字节扫描码，通常以下列字节开头（十六进制）：
`E0`、`E1`或`E2`。此外，有几个按键发送更长的扫描码以有效方针一组按键，以便于操作某些软件。

[PS/2接口起的PC键盘支持最多三组扫描码集](https://zh.wikipedia.org/wiki/PS/2接口 "wikilink")。最常遇到的是“XT”扫描码，它基于及更早的计算机使用的83按键键盘。其大部分由单字节组成，低7位标识按键，and
the most significant bit is clear for a key press or set for a key
release. Some additional keys have an `E0` (or rarely, `E1` or `E2`)
prefix. These were initially assigned so that ignoring the `E0` prefix
(which is in the key-up range and thus would have no effect on an
operating system that did not understand them) would produce reasonable
results. For example the numeric keypad's Enter key produces a scancode
of `E0 1C`, which corresponds to the regular Enter key's scancode of
`1C`.

The [IBM 3270 PC](https://zh.wikipedia.org/wiki/IBM_3270_PC "wikilink")
introduced its own set of scancodes ("set 3"), with a different key
numbering and where a key release is indicated by an `F0` prefix. For
[向下兼容](../Page/向下兼容.md "wikilink"), the 3270 PC translated these to
XT (set 1) scancodes using an add-on card and a BIOS extension. This set
is used by [Linux](../Page/Linux.md "wikilink") by default when it
detects a PS/2 keyboard that can properly support scan code set 3.\[2\]

The [IBM PC AT](https://zh.wikipedia.org/wiki/IBM_PC_AT "wikilink")
introduced the "AT" ("set 2") scancodes. On the 84-key AT keyboard these
were largely a subset of set 3, with some differences caused by the
revised layout (for example, the position and scancodes of the [function
keys](https://zh.wikipedia.org/wiki/功能键 "wikilink") changed). Keys added
since the PC AT often have different scancodes in set 2 and set 3, and
in set 2 frequently have an `E0` or `E1` prefix. Again, key release is
indicated by an `F0` prefix.

For computers since the IBM PC AT, the keyboard controller on the
[主板](../Page/主板.md "wikilink") translates AT (set 2) scancodes into
XT (set 1) scancodes in so called *translation mode*.\[3\] This
translation can be disabled in *pass-through-mode*, allowing the raw
scancodes to be seen.\[4\] Therefore, whether a software developer will
encounter AT scancodes or XT scancodes on a modern PC-compatible depends
on how the keyboard is being accessed.

PS/2兼容键盘会被告知所要发送的是扫描码集合1、2或3。

| 按键                                                                    | 集合1（）   | 集合2（[IBM PC AT](https://zh.wikipedia.org/wiki/IBM_PC_AT "wikilink")） | 集合3（）   |
| --------------------------------------------------------------------- | ------- | -------------------------------------------------------------------- | ------- |
| 按下                                                                    | 松开      | 按下                                                                   | 松开      |
| A（普通字符）                                                               | `1E`    | `9E`                                                                 | `1C`    |
| [Return / Enter](../Page/回车符.md "wikilink")（主键盘）                      | `1C`    | `9C`                                                                 | `5A`    |
| [Enter](../Page/回車鍵.md "wikilink")（[数字键盘](../Page/数字键盘.md "wikilink") | `E0 1C` | `E0 9C`                                                              | `E0 5A` |
| 左[Windows键](../Page/Windows键.md "wikilink")                           | `E0 5B` | `E0 DB`                                                              | `E0 1F` |
| 右Windows键                                                             | `E0 5C` | `E0 DC`                                                              | `E0 27` |

PC兼容（IBM PS/2）扫描码

### USB

[USB键盘使用一组新的扫描码集合](../Page/USB.md "wikilink")，大部分在USB标准中指定。所有能识别USB键盘的计算机都能识别这组扫描码。

## 参见

  - [死鍵](../Page/死鍵.md "wikilink")

  -
  - [键盘布局](../Page/键盘布局.md "wikilink")

## 参考资料

## 外部链接

  - [Keyboard
    scancodes](http://www.win.tue.nl/~aeb/linux/kbd/scancodes.html)
  - [Interfacing the AT
    Keyboard](https://web.archive.org/web/20180830070412/https://retired.beyondlogic.org/keyboard/keybrd.htm)

[Category:鍵盤](https://zh.wikipedia.org/wiki/Category:鍵盤 "wikilink")
[Category:資料傳輸](https://zh.wikipedia.org/wiki/Category:資料傳輸 "wikilink")
[Category:编码](https://zh.wikipedia.org/wiki/Category:编码 "wikilink")

1.  例如，传统的12键数字键盘扫描为3-{zh-tw:行;zh-cn:列;}-乘4-{zh-tw:列;zh-cn:行;}-，共需要7个连-{接}-点。而单独连接每个键需要12个连接点。
2.  <https://github.com/torvalds/linux/blob/master/drivers/input/keyboard/atkbd.c>
3.  [Keyboard
    scancodes](http://www.win.tue.nl/~aeb/linux/kbd/scancodes.html)
    ([section 10, "Keyboard internal
    scancodes"](http://www.win.tue.nl/~aeb/linux/kbd/scancodes-10.html)),
    \[//en.wikipedia.org/wiki/Andries_Brouwer Andries Brouwer\].
    Version 1.2e, 2004-05-20, accessed 2006-11-15.
4.  [Keyboard
    scancodes](http://www.win.tue.nl/~aeb/linux/kbd/scancodes.html)
    ([section 11, "The AT keyboard
    controller"](http://www.win.tue.nl/~aeb/linux/kbd/scancodes-11.html)),
    \[//en.wikipedia.org/wiki/Andries_Brouwer Andries Brouwer\].
    Version 1.2g, 2009-07-07, accessed 2010-07-18.